function BBCode(t){var e=document.getElementById(t);this.construct(e)}function AddSelectedText(t,e){document.post.message.caretPos?document.post.message.caretPos.text=t+document.post.message.caretPos.text+e:document.post.message.value+=t+e,document.post.message.focus()}function InsertBBCode(t){AddSelectedText("["+t+"]","[/"+t+"]")}function storeCaret(t){t.createTextRange&&(t.caretPos=document.selection.createRange().duplicate())}function initPostBBCode(t){$("span.post-hr",t).html('<hr align="left" />'),initCodes(t),initQuotes(t),initExternalLinks(t),initPostImages(t),initSpoilers(t),initMedia(t)}function initCodes(t){$("div.c-body",t).each(function(){$(this).before('<div class="c-head"><b>'+bbl.code+":</b></div>")})}function initQuotes(t){$("div.q",t).each(function(){var t=$(this),e=$(this).attr("head"),i=e?"<b>"+e+"</b> "+bbl.wrote+":":"<b>"+bbl.quote+"</b>";(quoted_pid=t.children("u.q-post:first").text())&&(i+=' <a href="'+($("#post_"+quoted_pid).length?"#"+quoted_pid:"./viewtopic.php?p="+quoted_pid+"#"+quoted_pid)+'" title="'+bbl.quoted_post+'"><img src="'+bb_url+'styles/templates/default/images/icon_latest_reply.gif" class="icon2" alt="" /></a>');t.before('<div class="q-head">'+i+"</div>")})}function initPostImages(t){if(!hidePostImg){var e=$("div.sp-body var.postImg",t);$("var.postImg",t).not(e).each(function(){var t=$(this),e=t.attr("title"),i=$('<img src="'+e+'" class="'+t.attr("class")+'" alt="pic" />');i=fixPostImage(i);var n=t.hasClass("postImgAligned")?postImgAligned_MaxWidth:postImg_MaxWidth;if(i.bind("click",function(){return imgFit(this,n)}),user.opt_js.i_aft_l){$("#preload").append(i);var a='<a href="'+e+'" target="_blank"><img src="'+bb_url+'styles/images/pic_loading.gif" alt="" /></a>';t.html(a),$.browser.msie&&t.after("<wbr>"),i.one("load",function(){imgFit(this,n),t.empty().append(this)})}else i.one("load",function(){imgFit(this,n)}),t.empty().append(i),$.browser.msie&&t.after("<wbr>")})}}function initSpoilers(t){$("div.sp-body",t).each(function(){var t=$(this),e=$.trim(this.title)||""+bbl.spoiler_head;this.title="";var i=$('<div class="sp-head folded clickable">'+e+"</div>");i.insertBefore(t).click(function(e){if(!t.hasClass("inited")){initPostImages(t);var n=$('<div class="sp-fold clickable">['+bbl.spoiler_close+"]</div>").click(function(){$.scrollTo(i,{duration:200,axis:"y",offset:-200}),i.click().animate({opacity:.1},500).animate({opacity:1},700)});t.prepend('<div class="clear"></div>').append('<div class="clear"></div>').append(n).addClass("inited")}if(e.shiftKey){e.stopPropagation(),e.shiftKey=!1;var a=$(this).hasClass("unfolded");$("div.sp-head",$(t.parents("td")[0])).filter(function(){return $(this).hasClass("unfolded")?a:!a}).click()}else $(this).toggleClass("unfolded"),t.slideToggle("fast")})})}function initExternalLinks(t){t=t||"body";ExternalLinks_InNewWindow&&$("a.postLink:not([href*='"+window.location.hostname+"/'])",t).attr({target:"_blank"})}function fixPostImage(t){return t[0].src.match(/imagebanana|hidebehind/i)&&t.wrap('<a href="'+this.src+'" target="_blank"></a>').attr({src:bb_url+"styles/images/smiles/tr_oops.gif",title:""+bbl.scr_rules}),t}function initMedia(t){for(var e=$("a.postLink",t),i=0;i<e.length;i++){var n=e[i];if("string"==typeof n.href&&/^http(?:s|):\/\/www.youtube.com\/watch\?(.*)?(&?v=([a-z0-9\-_]+))(.*)?|http:\/\/youtu.be\/.+/i.test(n.href)){var a=document.createElement("span");a.className="YTLink",a.innerHTML='<span title="'+bbl.play_on+'" class="YTLinkButton">&#9658;</span>',window.addEvent(a,"click",function(t){var e=t.target.nextSibling.href.replace(/^http(?:s|):\/\/www.youtube.com\/watch\?(.*)?(&?v=([a-z0-9\-_]+))(.*)?|http:\/\/youtu.be\//gi,"http://www.youtube.com/embed/$3"),i=""!==t.target.nextSibling.innerText?t.target.nextSibling.innerText:t.target.nextSibling.href;$("#Panel_youtube").remove(),ypanel("youtube",{title:"<b>"+i+"</b>",resizing:0,width:862,height:550,content:'<iframe width="853" height="493" frameborder="0" allowfullscreen="" src="'+e+'?wmode=opaque"></iframe>'})}),n.parentNode.insertBefore(a,n),a.appendChild(n)}}}function $p(){for(var t=[],e=0;e<arguments.length;e++){var i=arguments[e];if("string"==typeof i&&(i=document.getElementById(i)),1===arguments.length)return i;t.push(i)}return t}function addEvent(t,e,i){t.addEventListener?(t.addEventListener(e,i,!1),EventCache.add(t,e,i)):t.attachEvent?(t["e"+e+i]=i,t[e+i]=function(){t["e"+e+i](window.event)},t.attachEvent("on"+e,t[e+i]),EventCache.add(t,e,i)):t["on"+e]=t["e"+e+i]}BBCode.prototype={VK_TAB:9,VK_ENTER:13,VK_PAGE_UP:33,BRK_OP:"[",BRK_CL:"]",textarea:null,stext:"",quoter:null,qouted_pid:null,collapseAfterInsert:!1,replaceOnInsert:!1,construct:function(t){this.textarea=t,this.tags={},this.addTag("_quoter",function(){return'[quote="'+e.quoter+'"][qpost='+e.qouted_pid+"]"},"[/quote]\n",null,null,function(){return e.collapseAfterInsert=!0,e._prepareMultiline(e.quoterText)});var e=this;addEvent(t,"keydown",function(t){return e.onKeyPress(t,window.HTMLElement?"down":"press")}),addEvent(t,"keypress",function(t){return e.onKeyPress(t,"press")})},onclickPoster:function(t,e){var i=this.getSelection()[0];return i?(this.quoter=t,this.qouted_pid=e,this.quoterText=i,this.insertTag("_quoter")):this.insertAtCursor("[b]"+t+"[/b], "),!1},onclickQuoteSel:function(){var t=this.getSelection()[0];return t?this.insertAtCursor("[quote]"+t+"[/quote]\n"):alert("Вы не выбрали текст"),!1},emoticon:function(t){return!!t&&(this.insertAtCursor(" "+t+" "),!1)},getSelection:function(){var t=window,e="";return t.getSelection?(""===(e=t.getSelection())&&(e=this.stext),[e=(e=""+e).replace("/^s+|s+$/g",""),void 0]):[null,null]},insertAtCursor:function(t){var e=this.textarea;if(e.focus(),document.selection&&document.selection.createRange){var i=document.selection.createRange();this.replaceOnInsert||i.collapse(),i.text=t}else if(e.setSelectionRange){var n=this.replaceOnInsert?e.selectionStart:e.selectionEnd,a=e.selectionEnd,o=e.value.substr(0,n),s=e.value.substr(a);e.value=o+t+s,e.setSelectionRange(n+t.length,n+t.length)}else e.value+=t;setTimeout(function(){e.focus()},100)},surround:function(t,e,i){var n=this.textarea;n.focus(),i||(i=function(t){return t});var a=this.getSelection(),o=a[0],s=a[1];if(null===o)return!1;var r=null!==o&&""!==o;if(s){var l=t+i(o)+(e||"");if(s.text=l,s.collapse(),""!==o){for(var c=0,u=0;u<l.length;u++)"\r"===l.charAt(u)&&c++;s.moveStart("character",-e.length-o.length-t.length+c),s.moveEnd("character",-0)}else s.moveEnd("character",-e.length);this.collapseAfterInsert||s.select()}else if(n.setSelectionRange){var d=n.selectionStart,h=n.selectionEnd,p=n.scrollTop,f=n.value.substr(0,d),m=n.value.substr(h),v=i(n.value.substr(d,h-d)),g=t+v+e;n.value=f+g+m,""!==v?(n.setSelectionRange(d,d+g.length),r=!0):(n.setSelectionRange(d+t.length,d+t.length),r=!1),n.scrollTop=p,this.collapseAfterInsert&&n.setSelectionRange(d+g.length,d+g.length)}else n.value+=t+o+e;return this.collapseAfterInsert=!1,r},_cancelEvent:function(t){return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1},onKeyPress:function(t,e){var i=String.fromCharCode(t.keyCode?t.keyCode:t.charCode);for(var n in this.tags){var a=this.tags[n];if((!a.ctrlKey||t[a.ctrlKey+"Key"])&&(a.key&&i.toUpperCase()===a.key.toUpperCase()))return"keydown"===t.type&&this.insertTag(n),this._cancelEvent(t)}if("press"===e&&t.keyCode===this.VK_TAB&&!t.shiftKey&&!t.ctrlKey&&!t.altKey)return this.insertAtCursor("[tab]"),this._cancelEvent(t);if(t.keyCode===this.VK_TAB&&!t.shiftKey&&t.ctrlKey&&!t.altKey)return this.textarea.form.post.focus(),this._cancelEvent(t);var o=this.textarea.form,s=null;return t.keyCode===this.VK_PAGE_UP&&t.shiftKey&&!t.ctrlKey&&t.altKey&&(s=o.add_attachment_box),t.keyCode!==this.VK_ENTER||t.shiftKey||t.ctrlKey||!t.altKey||(s=o.preview),t.keyCode!==this.VK_ENTER||t.shiftKey||!t.ctrlKey||t.altKey||(s=o.post),!s||(s.click(),this._cancelEvent(t))},addTag:function(t,e,i,n,a,o){a||(a="ctrl");var s={};s.id=t,s.open=e,s.close=i,s.key=n,s.ctrlKey=a,s.multiline=o,s.elt=this.textarea.form[t],this.tags[t]=s;var r=s.elt;if(r){var l=this;r.type&&"BUTTON"===r.type.toUpperCase()&&addEvent(r,"click",function(){return l.insertTag(t),!1}),r.tagName&&"SELECT"===r.tagName.toUpperCase()&&addEvent(r,"change",function(){return l.insertTag(t),!1})}else if(t&&0!==t.indexOf("_"))return alert("addTag('"+t+"'): no such element in the form")},insertTag:function(t){var e=this.tags[t];if(!e)return alert("Unknown tag ID: "+t);var i=e.open;"function"==typeof e.open&&(i=e.open(e.elt));var n=null!==e.close?e.close:"/"+i;i.charAt(0)!==this.BRK_OP&&(i=this.BRK_OP+i+this.BRK_CL),n&&n.charAt(0)!==this.BRK_OP&&(n=this.BRK_OP+n+this.BRK_CL),this.surround(i,n,e.multiline?!0===e.multiline?this._prepareMultiline:e.multiline:null)},_prepareMultiline:function(t){return(t=(t=t.replace(/\s+$/,"")).replace(/^([ \t]*\r?\n)+/,"")).indexOf("\n")>=0&&(t="\n"+t+"\n"),t}},window.HTMLElement&&window.HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineSetter__("innerText",function(t){this.innerHTML=t.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}),HTMLElement.prototype.__defineGetter__("innerText",function(){var t=this.ownerDocument.createRange();return t.selectNodeContents(this),t.toString()})),$(document).ready(function(){$("div.post_wrap, div.signature").each(function(){initPostBBCode($(this))})});var EventCache=function(){var t=[];return{listEvents:t,add:function(e,i,n){t.push(arguments)},flush:function(){var e,i;for(e=t.length-1;e>=0;e-=1)(i=t[e])[0].removeEventListener&&i[0].removeEventListener(i[1],i[2],i[3]),"on"!==i[1].substring(0,2)&&(i[1]="on"+i[1]),i[0].detachEvent&&i[0].detachEvent(i[1],i[2]),i[0][i[1]]=null}}}();function imgFit(t,e){return t.title="Размеры изображения: "+t.width+" x "+t.height,void 0===t.naturalHeight&&(t.naturalHeight=t.height,t.naturalWidth=t.width),t.width>e?(t.height=Math.round(e/t.width*t.height),t.width=e,t.title="Нажмите на изображение, чтобы посмотреть его в полный размер",t.style.cursor="move",!1):!(t.width===e&&t.width<t.naturalWidth)||(t.height=t.naturalHeight,t.width=t.naturalWidth,t.title="Размеры изображения: "+t.naturalWidth+" x "+t.naturalHeight,!1)}function toggle_block(t){var e=document.getElementById(t);e.style.display="none"===e.style.display?"":"none"}function toggle_disabled(t,e){document.getElementById(t).disabled=e?0:1}function rand(t,e){return t+Math.floor((e-t+1)*Math.random())}function setCookie(t,e,i,n,a,o){if("SESSION"!==i){var s=new Date;i=i||365,s.setTime(s.getTime()+24*i*60*60*1e3);var r=s.toGMTString()}else r="";document.cookie=t+"="+encodeURI(e)+(r?"; expires="+r:"")+(n?"; path="+n:cookiePath?"; path="+cookiePath:"")+(a?"; domain="+a:cookieDomain?"; domain="+cookieDomain:"")+(o?"; secure":cookieSecure?"; secure":"")}function getCookie(t){var e;return(e=new RegExp("(^|;)\\s*"+t+"\\s*=\\s*([^\\s;]+)","g").exec(document.cookie))?e[2]:null}function deleteCookie(t,e,i){setCookie(t,"",-1,e,i)}document.all&&addEvent(window,"unload",EventCache.flush);var Menu={hideSpeed:"fast",offsetCorrection_X:-4,offsetCorrection_Y:2,activeMenuId:null,clickedMenuId:null,$root:null,$menu:null,positioningType:null,outsideClickWatch:!1,clicked:function(t){t.blur(),this.clickedMenuId=this.getMenuId(t),this.$menu=$(this.clickedMenuId),this.$root=t,this.toggle()},hovered:function(t){this.activeMenuId&&this.activeMenuId!==this.getMenuId(t)&&this.clicked(t)},unhovered:function(t){},getMenuId:function(t){var e=t.attr("href");return e.substr(e.indexOf("#"))},setLocation:function(){var t=this.$root.offset();t.top+=this.$root.height()+this.offsetCorrection_Y;var e=parseInt(t.top),i=$(document).scrollTop()+$(window).height()-20,n=Math.min(e,Math.max(0,i-this.$menu.height()));e!==n&&(t.top=n),t.left+=this.offsetCorrection_X;var a=parseInt(t.left),o=$(document).scrollLeft()+$(window).width()-6,s=Math.min(a,Math.max(0,o-this.$menu.width()));a!==s&&(t.left=s),this.$menu.css(t)},fixLocation:function(){var t=this.$menu,e=parseInt(t.css("left")),i=$(document).scrollLeft()+$(window).width()-6,n=Math.min(e,Math.max(0,i-t.width()));e!==n&&t.css("left",n);var a=parseInt(t.css("top")),o=$(document).scrollTop()+$(window).height()-20,s=Math.min(a,Math.max(0,o-t.height()));a!==s&&t.css("top",s)},toggle:function(){this.activeMenuId&&this.activeMenuId!==this.clickedMenuId&&$(this.activeMenuId).hide(this.hideSpeed),this.$menu.is(":visible")?(this.$menu.hide(this.hideSpeed),this.activeMenuId=null):(this.showClickedMenu(),this.outsideClickWatch||($(document).one("mousedown",function(t){Menu.hideClickWatcher(t)}),this.outsideClickWatch=!0))},showClickedMenu:function(){this.setLocation(),this.$menu.css({display:"block"}),this.activeMenuId=this.clickedMenuId},hideClickWatcher:function(t){this.outsideClickWatch=!1,this.hide(t)},hide:function(t){this.$menu&&this.$menu.hide(this.hideSpeed),this.activeMenuId=this.clickedMenuId=this.$menu=null}};function Ajax(t,e,i){this.url=t,this.type=e,this.dataType=i,this.errors={}}$(document).ready(function(){$("body").append($("div.menu-sub")),$("a.menu-root").click(function(t){return t.preventDefault(),Menu.clicked($(this)),!1}).hover(function(){return Menu.hovered($(this)),!1},function(){return Menu.unhovered($(this)),!1}),$("div.menu-sub").mousedown(function(t){t.stopPropagation()}).find("a").click(function(t){Menu.hide(t)}),$("input").filter(".hint").one("focus",function(){$(this).val("").removeClass("hint")}).end().filter(".error").one("focus",function(){$(this).removeClass("error")})}),Ajax.prototype={init:{},callback:{},state:{},request:{},params:{},form_token:"",hide_loading:null,exec:function(t,e=!1){this.request[t.action]=t,t.form_token=this.form_token,this.hide_loading=e,$.ajax({url:this.url,type:this.type,dataType:this.dataType,data:t,success:ajax.success,error:ajax.error})},success:function(t){var e=t.action;if(t.raw_output&&$("body").prepend(t.raw_output),t.sql_log&&($("#sqlLog").prepend(t.sql_log+"<hr />"),fixSqlLog()),t.update_ids)for(id in t.update_ids)$("#"+id).html(t.update_ids[id]);if(t.prompt_password){var i=prompt("Для доступа к данной функции, пожалуйста, введите свой пароль","");if(i)(n=ajax.request[e]).user_password=i,ajax.exec(n);else ajax.clearActionState(e),ajax.showErrorMsg("Введен неверный пароль")}else if(t.prompt_confirm){var n;if(window.confirm(t.confirm_msg))(n=ajax.request[e]).confirmed=1,ajax.exec(n);else ajax.clearActionState(e)}else t.error_code?(ajax.showErrorMsg(t.error_msg),console.log(t.console_log),$(".loading-1").removeClass("loading-1").html("error")):(ajax.callback[e](t),ajax.clearActionState(e))},error:function(t,e){},clearActionState:function(t){ajax.state[t]=ajax.request[t]=""},showErrorMsg:function(t){alert(t)},callInitFn:function(t){t.stopPropagation();var e=ajax.params[$(this).attr("id")],i=e.action;if("readyToSubmit"===ajax.state[i]||"error"===ajax.state[i])return!1;ajax.state[i]="readyToSubmit",ajax.init[i](e)},setStatusBoxPosition:function(t){var e=$(document).scrollTop(),i=$(document).scrollLeft()+$(window).width()-8,n=Math.max(0,i-t.width());t.css({top:e,left:n})},makeEditable:function(t,e){var i=$("#"+t),n=$(".editable",i),a=$("#editable-tpl-"+e).html();n.hide().after(a);var o=$(".editable-inputs",i);"input"!==e&&"textarea"!==e||$(".editable-value",o).val($.trim(n.text())),$("input.editable-submit",o).click(function(){var e=ajax.params[t],i=$(".editable-value","#"+t);e.value=1===i.size()?i.val():i.filter(":checked").val(),e.submit=!0,ajax.init[e.action](e)}),$("input.editable-cancel",o).click(function(){ajax.restoreEditable(t)}),o.show().find(".editable-value").focus(),i.removeClass("editable-container")},restoreEditable:function(t,e){var i=$("#"+t),n=$(".editable",i);$(".editable-inputs",i).remove(),e&&n.text(e),n.show(),ajax.clearActionState(ajax.params[t].action),ajax.params[t].submit=!1,i.addClass("editable-container")}},$(document).ready(function(){$("#ajax-loading").ajaxStart(function(){!1===ajax.hide_loading&&($("#ajax-error").hide(),$(this).show(),ajax.setStatusBoxPosition($(this)))}),$("#ajax-loading").ajaxStop(function(){!1===ajax.hide_loading&&$(this).hide()}),$("#ajax-error").ajaxError(function(t,e){var i=e.status,n=e.statusText;200===i&&(i="",n="неверный формат данных"),$(this).html("Ошибка в: <i>"+ajax.url+"</i><br /><b>"+i+" "+n+"</b>").show(),ajax.setStatusBoxPosition($(this))}),$("var.ajax-params").each(function(){var t=$.evalJSON($(this).html());t.event=t.event||"dblclick",ajax.params[t.id]=t,$("#"+t.id).bind(t.event,ajax.callInitFn),"click"!==t.event&&"dblclick"!==t.event||$("#"+t.id).addClass("editable-container")})});var array_for_rand_pass=["a","A","b","B","c","C","d","D","e","E","f","F","g","G","h","H","i","I","j","J","k","K","l","L","m","M","n","N","o","O","p","P","q","Q","r","R","s","S","t","T","u","U","v","V","w","W","x","X","y","Y","z","Z",0,1,2,3,4,5,6,7,8,9],array_rand=function(t){var e=t.length,i=Math.random()*e;return Math.floor(i)},autocomplete=function(t){for(var e="",i=1;i<=8;i++)e+=array_for_rand_pass[array_rand(array_for_rand_pass)];var n=Math.ceil(window.screen.availWidth/2)-150,a=Math.ceil(window.screen.availHeight/2)-50;t?$("div#autocomplete_popup").show(1e3):$("div#autocomplete_popup").css({left:n+"px",top:a+"px"}).show(1e3),$("input#pass, input#pass_confirm, div#autocomplete_popup input").each(function(){$(this).val(e)})};$(document).ready(function(){var t,e;$("span#autocomplete").click(function(){autocomplete()});var i=!1;$("div#autocomplete_popup div.title").mousedown(function(n){i=!0,t=n.clientX,e=n.clientY}),$("div#autocomplete_popup div.title").mousemove(function(n){var a=$("div#autocomplete_popup"),o=parseInt(a.css("left")),s=parseInt(a.css("top"));i&&(n.clientX<t?a.css("left",o-(t-n.clientX)+"px"):a.css("left",o+(n.clientX-t)+"px"),n.clientY<e?a.css("top",s-(e-n.clientY)+"px"):a.css("top",s+(n.clientY-e)+"px"),t=n.clientX,e=n.clientY)}),$("div#autocomplete_popup div.title").mouseup(function(){i=!1}).mouseout(function(){i=!1})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJiY29kZS5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsiQkJDb2RlIiwib2JqIiwidGV4dGFyZWEiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidGhpcyIsImNvbnN0cnVjdCIsIkFkZFNlbGVjdGVkVGV4dCIsIkJCT3BlbiIsIkJCQ2xvc2UiLCJwb3N0IiwibWVzc2FnZSIsImNhcmV0UG9zIiwidGV4dCIsInZhbHVlIiwiZm9jdXMiLCJJbnNlcnRCQkNvZGUiLCJCQmNvZGUiLCJzdG9yZUNhcmV0IiwidGV4dEVsIiwiY3JlYXRlVGV4dFJhbmdlIiwic2VsZWN0aW9uIiwiY3JlYXRlUmFuZ2UiLCJkdXBsaWNhdGUiLCJpbml0UG9zdEJCQ29kZSIsImNvbnRleHQiLCIkIiwiaHRtbCIsImluaXRDb2RlcyIsImluaXRRdW90ZXMiLCJpbml0RXh0ZXJuYWxMaW5rcyIsImluaXRQb3N0SW1hZ2VzIiwiaW5pdFNwb2lsZXJzIiwiaW5pdE1lZGlhIiwiZWFjaCIsImJlZm9yZSIsImJibCIsIiRxIiwibmFtZSIsImF0dHIiLCJxX3RpdGxlIiwicXVvdGVkX3BpZCIsImNoaWxkcmVuIiwibGVuZ3RoIiwiYmJfdXJsIiwiaGlkZVBvc3RJbWciLCIkaW5fc3BvaWxlcnMiLCJub3QiLCIkdiIsInNyYyIsIiRpbWciLCJmaXhQb3N0SW1hZ2UiLCJtYXhXIiwiaGFzQ2xhc3MiLCJwb3N0SW1nQWxpZ25lZF9NYXhXaWR0aCIsInBvc3RJbWdfTWF4V2lkdGgiLCJiaW5kIiwiaW1nRml0IiwidXNlciIsIm9wdF9qcyIsImlfYWZ0X2wiLCJhcHBlbmQiLCJsb2FkaW5nX2ljb24iLCJicm93c2VyIiwibXNpZSIsImFmdGVyIiwib25lIiwiZW1wdHkiLCIkc3BfYm9keSIsInRyaW0iLCJ0aXRsZSIsIiRzcF9oZWFkIiwiaW5zZXJ0QmVmb3JlIiwiY2xpY2siLCJlIiwiJHNwX2ZvbGRfYnRuIiwic2Nyb2xsVG8iLCJkdXJhdGlvbiIsImF4aXMiLCJvZmZzZXQiLCJhbmltYXRlIiwib3BhY2l0eSIsInByZXBlbmQiLCJhZGRDbGFzcyIsInNoaWZ0S2V5Iiwic3RvcFByb3BhZ2F0aW9uIiwiZm9sZCIsInBhcmVudHMiLCJmaWx0ZXIiLCJ0b2dnbGVDbGFzcyIsInNsaWRlVG9nZ2xlIiwiRXh0ZXJuYWxMaW5rc19Jbk5ld1dpbmRvdyIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJ0YXJnZXQiLCJtYXRjaCIsIndyYXAiLCJhcG9zdExpbmsiLCJpIiwibGluayIsImhyZWYiLCJ0ZXN0IiwiYSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJhZGRFdmVudCIsInZocmVmIiwibmV4dFNpYmxpbmciLCJyZXBsYWNlIiwiaW5uZXJUZXh0IiwicmVtb3ZlIiwieXBhbmVsIiwicmVzaXppbmciLCJ3aWR0aCIsImhlaWdodCIsImNvbnRlbnQiLCJwYXJlbnROb2RlIiwiYXBwZW5kQ2hpbGQiLCIkcCIsImVsZW1lbnRzIiwiYXJndW1lbnRzIiwiZWxlbWVudCIsInB1c2giLCJ0eXBlIiwiZm4iLCJhZGRFdmVudExpc3RlbmVyIiwiRXZlbnRDYWNoZSIsImFkZCIsImF0dGFjaEV2ZW50IiwiZXZlbnQiLCJwcm90b3R5cGUiLCJWS19UQUIiLCJWS19FTlRFUiIsIlZLX1BBR0VfVVAiLCJCUktfT1AiLCJCUktfQ0wiLCJzdGV4dCIsInF1b3RlciIsInFvdXRlZF9waWQiLCJjb2xsYXBzZUFmdGVySW5zZXJ0IiwicmVwbGFjZU9uSW5zZXJ0IiwidGFncyIsImFkZFRhZyIsInRoIiwiX3ByZXBhcmVNdWx0aWxpbmUiLCJxdW90ZXJUZXh0Iiwib25LZXlQcmVzcyIsIkhUTUxFbGVtZW50Iiwib25jbGlja1Bvc3RlciIsInBvc3RfaWQiLCJzZWwiLCJnZXRTZWxlY3Rpb24iLCJpbnNlcnRUYWciLCJpbnNlcnRBdEN1cnNvciIsIm9uY2xpY2tRdW90ZVNlbCIsImFsZXJ0IiwiZW1vdGljb24iLCJlbSIsInciLCJyYW5nZSIsInQiLCJyIiwiY29sbGFwc2UiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInN0YXJ0Iiwic2VsZWN0aW9uU3RhcnQiLCJzZWxlY3Rpb25FbmQiLCJlbmQiLCJzZWwxIiwic3Vic3RyIiwic2VsMiIsInNldFRpbWVvdXQiLCJzdXJyb3VuZCIsIm9wZW4iLCJjbG9zZSIsImZUcmFucyIsInJ0Iiwibm90RW1wdHkiLCJuZXdUZXh0IiwiZGVsdGEiLCJjaGFyQXQiLCJtb3ZlU3RhcnQiLCJtb3ZlRW5kIiwic2VsZWN0IiwidG9wIiwic2Nyb2xsVG9wIiwiaW5uZXIiLCJfY2FuY2VsRXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInJldHVyblZhbHVlIiwia2V5IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwia2V5Q29kZSIsImNoYXJDb2RlIiwiaWQiLCJ0YWciLCJjdHJsS2V5IiwidG9VcHBlckNhc2UiLCJhbHRLZXkiLCJmb3JtIiwic3VibWl0dGVyIiwiYWRkX2F0dGFjaG1lbnRfYm94IiwicHJldmlldyIsIm11bHRpbGluZSIsImVsdCIsInRhZ05hbWUiLCJpbmRleE9mIiwib3AiLCJjbCIsIl9fZGVmaW5lU2V0dGVyX18iLCJzVGV4dCIsIl9fZGVmaW5lR2V0dGVyX18iLCJvd25lckRvY3VtZW50Iiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwidG9TdHJpbmciLCJyZWFkeSIsImxpc3RFdmVudHMiLCJub2RlIiwic0V2ZW50TmFtZSIsImZIYW5kbGVyIiwiZmx1c2giLCJpdGVtIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInN1YnN0cmluZyIsImRldGFjaEV2ZW50IiwiaW1nIiwibmF0dXJhbEhlaWdodCIsIm5hdHVyYWxXaWR0aCIsIk1hdGgiLCJyb3VuZCIsInN0eWxlIiwiY3Vyc29yIiwidG9nZ2xlX2Jsb2NrIiwiZWwiLCJkaXNwbGF5IiwidG9nZ2xlX2Rpc2FibGVkIiwidmFsIiwiZGlzYWJsZWQiLCJyYW5kIiwibWluIiwibWF4IiwiZmxvb3IiLCJyYW5kb20iLCJzZXRDb29raWUiLCJkYXlzIiwicGF0aCIsImRvbWFpbiIsInNlY3VyZSIsImRhdGUiLCJEYXRlIiwic2V0VGltZSIsImdldFRpbWUiLCJleHBpcmVzIiwidG9HTVRTdHJpbmciLCJjb29raWUiLCJlbmNvZGVVUkkiLCJjb29raWVQYXRoIiwiY29va2llRG9tYWluIiwiZ2V0Q29va2llIiwiYyIsIlJlZ0V4cCIsImV4ZWMiLCJkZWxldGVDb29raWUiLCJhbGwiLCJNZW51IiwiaGlkZVNwZWVkIiwib2Zmc2V0Q29ycmVjdGlvbl9YIiwib2Zmc2V0Q29ycmVjdGlvbl9ZIiwiYWN0aXZlTWVudUlkIiwiY2xpY2tlZE1lbnVJZCIsIiRyb290IiwiJG1lbnUiLCJwb3NpdGlvbmluZ1R5cGUiLCJvdXRzaWRlQ2xpY2tXYXRjaCIsImNsaWNrZWQiLCJibHVyIiwiZ2V0TWVudUlkIiwidG9nZ2xlIiwiaG92ZXJlZCIsInVuaG92ZXJlZCIsIiRlbCIsInNldExvY2F0aW9uIiwiQ1NTIiwiY3VyVG9wIiwicGFyc2VJbnQiLCJ0Q29ybmVyIiwibWF4VmlzaWJsZVRvcCIsImxlZnQiLCJjdXJMZWZ0IiwickNvcm5lciIsInNjcm9sbExlZnQiLCJtYXhWaXNpYmxlTGVmdCIsImNzcyIsImZpeExvY2F0aW9uIiwiaGlkZSIsImlzIiwic2hvd0NsaWNrZWRNZW51IiwiaGlkZUNsaWNrV2F0Y2hlciIsIkFqYXgiLCJoYW5kbGVyVVJMIiwicmVxdWVzdFR5cGUiLCJkYXRhVHlwZSIsInVybCIsImVycm9ycyIsImhvdmVyIiwibW91c2Vkb3duIiwiZmluZCIsInJlbW92ZUNsYXNzIiwiaW5pdCIsImNhbGxiYWNrIiwic3RhdGUiLCJyZXF1ZXN0IiwicGFyYW1zIiwiZm9ybV90b2tlbiIsImhpZGVfbG9hZGluZyIsImFjdGlvbiIsImFqYXgiLCJkYXRhIiwic3VjY2VzcyIsImVycm9yIiwicmVzcG9uc2UiLCJyYXdfb3V0cHV0Iiwic3FsX2xvZyIsImZpeFNxbExvZyIsInVwZGF0ZV9pZHMiLCJwcm9tcHRfcGFzc3dvcmQiLCJ1c2VyX3Bhc3N3b3JkIiwicHJvbXB0IiwicmVxIiwiY2xlYXJBY3Rpb25TdGF0ZSIsInNob3dFcnJvck1zZyIsInByb21wdF9jb25maXJtIiwiY29uZmlybSIsImNvbmZpcm1fbXNnIiwiY29uZmlybWVkIiwiZXJyb3JfY29kZSIsImVycm9yX21zZyIsImNvbnNvbGUiLCJsb2ciLCJjb25zb2xlX2xvZyIsInhtbCIsImRlc2MiLCJtc2ciLCJjYWxsSW5pdEZuIiwic2V0U3RhdHVzQm94UG9zaXRpb24iLCJuZXdUb3AiLCJuZXdMZWZ0IiwibWFrZUVkaXRhYmxlIiwicm9vdEVsZW1lbnRJZCIsImVkaXRhYmxlVHlwZSIsIiRlZGl0YWJsZSIsImlucHV0c0h0bWwiLCIkaW5wdXRzIiwiJHZhbCIsInNpemUiLCJzdWJtaXQiLCJyZXN0b3JlRWRpdGFibGUiLCJzaG93IiwibmV3VmFsdWUiLCJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhFcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJldmFsSlNPTiIsImFycmF5X2Zvcl9yYW5kX3Bhc3MiLCJhcnJheV9yYW5kIiwiYXJyYXkiLCJhcnJheV9sZW5ndGgiLCJyZXN1bHQiLCJhdXRvY29tcGxldGUiLCJub0NlbnRlciIsInN0cmluZ19yZXN1bHQiLCJfcG9wdXBfbGVmdCIsImNlaWwiLCJzY3JlZW4iLCJhdmFpbFdpZHRoIiwiX3BvcHVwX3RvcCIsImF2YWlsSGVpZ2h0IiwiX1giLCJfWSIsIl9iTW92ZWJsZSIsImNsaWVudFgiLCJjbGllbnRZIiwibW91c2Vtb3ZlIiwiakZyYW1lIiwiakZMZWZ0IiwiakZUb3AiLCJtb3VzZXVwIiwibW91c2VvdXQiXSwibWFwcGluZ3MiOiJBQVNBLFNBQVNBLE9BQU9DLEdBQ1osSUFBSUMsRUFBV0MsU0FBU0MsZUFBZUgsR0FDdkNJLEtBQUtDLFVBQVVKLEdBc1NuQixTQUFTSyxnQkFBZ0JDLEVBQVFDLEdBQ3pCTixTQUFTTyxLQUFLQyxRQUFRQyxTQUFVVCxTQUFTTyxLQUFLQyxRQUFRQyxTQUFTQyxLQUFPTCxFQUFTTCxTQUFTTyxLQUFLQyxRQUFRQyxTQUFTQyxLQUFPSixFQUFjTixTQUFT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c0YsRUFBYyxLQUFNOUwsSUFBS2tNLEVBQWEsT0FDN0NwQixLQUFLLEtBS1o5VSxFQUFFLGdFQUFnRVEsS0FBSyxXQUNuRVIsRUFBRXJCLE1BQU0wTyxJQUFJd0ksTUFJcEI3VixFQUFFdkIsVUFBVXVOLE1BQU0sV0FNZCxJQUFJb0ssRUFBSUMsRUFMUnJXLEVBQUUscUJBQXFCK0MsTUFBTSxXQUN6QjRTLGlCQUtKLElBQUlXLEdBQVksRUFFaEJ0VyxFQUFFLG9DQUFvQzBSLFVBQVUsU0FBVWpMLEdBQ3RENlAsR0FBWSxFQUNaRixFQUFLM1AsRUFBTThQLFFBQ1hGLEVBQUs1UCxFQUFNK1AsVUFHZnhXLEVBQUUsb0NBQW9DeVcsVUFBVSxTQUFVaFEsR0FDdEQsSUFBSWlRLEVBQVMxVyxFQUFFLDBCQUNYMlcsRUFBU3RHLFNBQVNxRyxFQUFPN0YsSUFBSSxTQUM3QitGLEVBQVF2RyxTQUFTcUcsRUFBTzdGLElBQUksUUFFNUJ5RixJQUNJN1AsRUFBTThQLFFBQVVILEVBQ2hCTSxFQUFPN0YsSUFBSSxPQUFROEYsR0FBVVAsRUFBSzNQLEVBQU04UCxTQUFXLE1BRW5ERyxFQUFPN0YsSUFBSSxPQUFTOEYsR0FBVWxRLEVBQU04UCxRQUFVSCxHQUFPLE1BR3JEM1AsRUFBTStQLFFBQVVILEVBQ2hCSyxFQUFPN0YsSUFBSSxNQUFPK0YsR0FBU1AsRUFBSzVQLEVBQU0rUCxTQUFXLE1BRWpERSxFQUFPN0YsSUFBSSxNQUFRK0YsR0FBU25RLEVBQU0rUCxRQUFVSCxHQUFPLE1BR3ZERCxFQUFLM1AsRUFBTThQLFFBQ1hGLEVBQUs1UCxFQUFNK1AsV0FJbkJ4VyxFQUFFLG9DQUFvQzZXLFFBQVEsV0FDMUNQLEdBQVksSUFDYlEsU0FBUyxXQUNSUixHQUFZIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogVG9ycmVudFBpZXIg4oCTIEJ1bGwtcG93ZXJlZCBCaXRUb3JyZW50IHRyYWNrZXIgZW5naW5lXHJcbiAqXHJcbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDA1LTIwMjQgVG9ycmVudFBpZXIgKGh0dHBzOi8vdG9ycmVudHBpZXIuY29tKVxyXG4gKiBAbGluayAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS90b3JyZW50cGllci90b3JyZW50cGllciBmb3IgdGhlIGNhbm9uaWNhbCBzb3VyY2UgcmVwb3NpdG9yeVxyXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vZ2l0aHViLmNvbS90b3JyZW50cGllci90b3JyZW50cGllci9ibG9iL21hc3Rlci9MSUNFTlNFIE1JVCBMaWNlbnNlXHJcbiAqL1xyXG5cclxuLy8gQkJDb2RlIGNvbnRyb2xcclxuZnVuY3Rpb24gQkJDb2RlKG9iaikge1xyXG4gICAgdmFyIHRleHRhcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob2JqKTtcclxuICAgIHRoaXMuY29uc3RydWN0KHRleHRhcmVhKTtcclxufVxyXG5cclxuQkJDb2RlLnByb3RvdHlwZSA9IHtcclxuICAgIFZLX1RBQjogOSxcclxuICAgIFZLX0VOVEVSOiAxMyxcclxuICAgIFZLX1BBR0VfVVA6IDMzLFxyXG4gICAgQlJLX09QOiAnWycsXHJcbiAgICBCUktfQ0w6ICddJyxcclxuICAgIHRleHRhcmVhOiBudWxsLFxyXG4gICAgc3RleHQ6ICcnLFxyXG4gICAgcXVvdGVyOiBudWxsLFxyXG4gICAgcW91dGVkX3BpZDogbnVsbCxcclxuICAgIGNvbGxhcHNlQWZ0ZXJJbnNlcnQ6IGZhbHNlLFxyXG4gICAgcmVwbGFjZU9uSW5zZXJ0OiBmYWxzZSxcclxuXHJcbiAgICAvLyBDcmVhdGUgbmV3IEJCQ29kZSBjb250cm9sXHJcbiAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uICh0ZXh0YXJlYSkge1xyXG4gICAgICAgIHRoaXMudGV4dGFyZWEgPSB0ZXh0YXJlYTtcclxuICAgICAgICB0aGlzLnRhZ3MgPSB7fTtcclxuICAgICAgICAvLyBUYWcgZm9yIHF1b3RpbmdcclxuICAgICAgICB0aGlzLmFkZFRhZygnX3F1b3RlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdbcXVvdGU9XCInICsgdGgucXVvdGVyICsgJ1wiXVtxcG9zdD0nICsgdGgucW91dGVkX3BpZCArICddJ1xyXG4gICAgICAgIH0sICdbL3F1b3RlXVxcbicsIG51bGwsIG51bGwsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGguY29sbGFwc2VBZnRlckluc2VydCA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aC5fcHJlcGFyZU11bHRpbGluZSh0aC5xdW90ZXJUZXh0KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBJbml0IGV2ZW50c1xyXG4gICAgICAgIHZhciB0aCA9IHRoaXM7XHJcbiAgICAgICAgYWRkRXZlbnQodGV4dGFyZWEsICdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoLm9uS2V5UHJlc3MoZSwgd2luZG93LkhUTUxFbGVtZW50ID8gJ2Rvd24nIDogJ3ByZXNzJylcclxuICAgICAgICB9KTtcclxuICAgICAgICBhZGRFdmVudCh0ZXh0YXJlYSwgJ2tleXByZXNzJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoLm9uS2V5UHJlc3MoZSwgJ3ByZXNzJylcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gSW5zZXJ0IHBvc3RlciBuYW1lIG9yIHBvc3RlciBxdW90ZXMgdG8gdGhlIHRleHRcclxuICAgIG9uY2xpY2tQb3N0ZXI6IGZ1bmN0aW9uIChuYW1lLCBwb3N0X2lkKSB7XHJcbiAgICAgICAgdmFyIHNlbCA9IHRoaXMuZ2V0U2VsZWN0aW9uKClbMF07XHJcbiAgICAgICAgaWYgKHNlbCkge1xyXG4gICAgICAgICAgICB0aGlzLnF1b3RlciA9IG5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMucW91dGVkX3BpZCA9IHBvc3RfaWQ7XHJcbiAgICAgICAgICAgIHRoaXMucXVvdGVyVGV4dCA9IHNlbDtcclxuICAgICAgICAgICAgdGhpcy5pbnNlcnRUYWcoJ19xdW90ZXInKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmluc2VydEF0Q3Vyc29yKFwiW2JdXCIgKyBuYW1lICsgJ1svYl0sICcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFF1b3RlIHNlbGVjdGVkIHRleHRcclxuICAgIG9uY2xpY2tRdW90ZVNlbDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzZWwgPSB0aGlzLmdldFNlbGVjdGlvbigpWzBdO1xyXG4gICAgICAgIGlmIChzZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnNlcnRBdEN1cnNvcignW3F1b3RlXScgKyBzZWwgKyAnWy9xdW90ZV1cXG4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhbGVydCgn0JLRiyDQvdC1INCy0YvQsdGA0LDQu9C4INGC0LXQutGB0YInKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBRdW90ZSBzZWxlY3RlZCB0ZXh0XHJcbiAgICBlbW90aWNvbjogZnVuY3Rpb24gKGVtKSB7XHJcbiAgICAgICAgaWYgKGVtKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0QXRDdXJzb3IoJyAnICsgZW0gKyAnICcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBSZXR1cm4gY3VycmVudCBzZWxlY3Rpb24gYW5kIHJhbmdlIChpZiBleGlzdHMpXHJcbiAgICBnZXRTZWxlY3Rpb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdyA9IHdpbmRvdztcclxuICAgICAgICB2YXIgdGV4dCA9ICcnLCByYW5nZTtcclxuICAgICAgICBpZiAody5nZXRTZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgdGV4dCA9IHcuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBudWxsXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRleHQgPT09ICcnKSB0ZXh0ID0gdGhpcy5zdGV4dDtcclxuICAgICAgICB0ZXh0ID0gXCJcIiArIHRleHQ7XHJcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShcIi9eXFxzK3xcXHMrJC9nXCIsIFwiXCIpO1xyXG4gICAgICAgIHJldHVybiBbdGV4dCwgcmFuZ2VdO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBJbnNlcnQgc3RyaW5nIGF0IGN1cnNvciBwb3NpdGlvbiBvZiB0ZXh0YXJlYVxyXG4gICAgaW5zZXJ0QXRDdXJzb3I6IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgLy8gRm9jdXMgaXMgcGxhY2VkIHRvIHRleHRhcmVhXHJcbiAgICAgICAgdmFyIHQgPSB0aGlzLnRleHRhcmVhO1xyXG4gICAgICAgIHQuZm9jdXMoKTtcclxuICAgICAgICAvLyBJbnNlcnQgdGhlIHN0cmluZ1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5zZWxlY3Rpb24gJiYgZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKSB7XHJcbiAgICAgICAgICAgIHZhciByID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5yZXBsYWNlT25JbnNlcnQpIHIuY29sbGFwc2UoKTtcclxuICAgICAgICAgICAgci50ZXh0ID0gdGV4dDtcclxuICAgICAgICB9IGVsc2UgaWYgKHQuc2V0U2VsZWN0aW9uUmFuZ2UpIHtcclxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5yZXBsYWNlT25JbnNlcnQgPyB0LnNlbGVjdGlvblN0YXJ0IDogdC5zZWxlY3Rpb25FbmQ7XHJcbiAgICAgICAgICAgIHZhciBlbmQgPSB0LnNlbGVjdGlvbkVuZDtcclxuICAgICAgICAgICAgdmFyIHNlbDEgPSB0LnZhbHVlLnN1YnN0cigwLCBzdGFydCk7XHJcbiAgICAgICAgICAgIHZhciBzZWwyID0gdC52YWx1ZS5zdWJzdHIoZW5kKTtcclxuICAgICAgICAgICAgdC52YWx1ZSA9IHNlbDEgKyB0ZXh0ICsgc2VsMjtcclxuICAgICAgICAgICAgdC5zZXRTZWxlY3Rpb25SYW5nZShzdGFydCArIHRleHQubGVuZ3RoLCBzdGFydCArIHRleHQubGVuZ3RoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0LnZhbHVlICs9IHRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZvciBJRVxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0LmZvY3VzKClcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBTdXJyb3VuZCBwaWVjZSBvZiB0ZXh0YXJlYSB0ZXh0IHdpdGggdGFnc1xyXG4gICAgc3Vycm91bmQ6IGZ1bmN0aW9uIChvcGVuLCBjbG9zZSwgZlRyYW5zKSB7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzLnRleHRhcmVhO1xyXG4gICAgICAgIHQuZm9jdXMoKTtcclxuICAgICAgICBpZiAoIWZUcmFucykgZlRyYW5zID0gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIHJ0ID0gdGhpcy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICB2YXIgdGV4dCA9IHJ0WzBdO1xyXG4gICAgICAgIHZhciByYW5nZSA9IHJ0WzFdO1xyXG4gICAgICAgIGlmICh0ZXh0ID09PSBudWxsKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciBub3RFbXB0eSA9IHRleHQgIT09IG51bGwgJiYgdGV4dCAhPT0gJyc7XHJcblxyXG4gICAgICAgIC8vIFN1cnJvdW5kXHJcbiAgICAgICAgaWYgKHJhbmdlKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdUZXh0ID0gb3BlbiArIGZUcmFucyh0ZXh0KSArIChjbG9zZSA/IGNsb3NlIDogJycpO1xyXG4gICAgICAgICAgICByYW5nZS50ZXh0ID0gbmV3VGV4dDtcclxuICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UoKTtcclxuICAgICAgICAgICAgaWYgKHRleHQgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDb3JyZWN0aW9uIGZvciBzdHVwaWQgSUU6IFxcciBmb3IgbW92ZVN0YXJ0IGlzIDAgY2hhcmFjdGVyXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdUZXh0Lmxlbmd0aDsgaSsrKSBpZiAobmV3VGV4dC5jaGFyQXQoaSkgPT09ICdcXHInKSBkZWx0YSsrO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2UubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsIC1jbG9zZS5sZW5ndGggLSB0ZXh0Lmxlbmd0aCAtIG9wZW4ubGVuZ3RoICsgZGVsdGEpO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2UubW92ZUVuZChcImNoYXJhY3RlclwiLCAtMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByYW5nZS5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsIC1jbG9zZS5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5jb2xsYXBzZUFmdGVySW5zZXJ0KSByYW5nZS5zZWxlY3QoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHQuc2V0U2VsZWN0aW9uUmFuZ2UpIHtcclxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdC5zZWxlY3Rpb25TdGFydDtcclxuICAgICAgICAgICAgdmFyIGVuZCA9IHQuc2VsZWN0aW9uRW5kO1xyXG4gICAgICAgICAgICB2YXIgdG9wID0gdC5zY3JvbGxUb3A7XHJcbiAgICAgICAgICAgIHZhciBzZWwxID0gdC52YWx1ZS5zdWJzdHIoMCwgc3RhcnQpO1xyXG4gICAgICAgICAgICB2YXIgc2VsMiA9IHQudmFsdWUuc3Vic3RyKGVuZCk7XHJcbiAgICAgICAgICAgIHZhciBzZWwgPSBmVHJhbnModC52YWx1ZS5zdWJzdHIoc3RhcnQsIGVuZCAtIHN0YXJ0KSk7XHJcbiAgICAgICAgICAgIHZhciBpbm5lciA9IG9wZW4gKyBzZWwgKyBjbG9zZTtcclxuICAgICAgICAgICAgdC52YWx1ZSA9IHNlbDEgKyBpbm5lciArIHNlbDI7XHJcbiAgICAgICAgICAgIGlmIChzZWwgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB0LnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBzdGFydCArIGlubmVyLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBub3RFbXB0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0LnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0ICsgb3Blbi5sZW5ndGgsIHN0YXJ0ICsgb3Blbi5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgbm90RW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0LnNjcm9sbFRvcCA9IHRvcDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29sbGFwc2VBZnRlckluc2VydCkgdC5zZXRTZWxlY3Rpb25SYW5nZShzdGFydCArIGlubmVyLmxlbmd0aCwgc3RhcnQgKyBpbm5lci5sZW5ndGgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHQudmFsdWUgKz0gb3BlbiArIHRleHQgKyBjbG9zZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb2xsYXBzZUFmdGVySW5zZXJ0ID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIG5vdEVtcHR5O1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBJbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3Jvc3MtYnJvd3NlciBldmVudCBjYW5jZWxsYXRpb24uXHJcbiAgICBfY2FuY2VsRXZlbnQ6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gQXZhaWxhYmxlIGtleSBjb21iaW5hdGlvbnMgYW5kIHRoZXNlIGludGVycHJldGFpb25zIGZvciBCQiBhcmVcclxuICAgIC8vIFRBQiAgICAgICAgICAgICAgLSBJbnNlcnQgVEFCIGNoYXJcclxuICAgIC8vIENUUkwtVEFCICAgICAgICAgLSBOZXh0IGZvcm0gZmllbGQgKHVzdWFsIFRBQilcclxuICAgIC8vIFNISUZULUFMVC1QQUdFVVAgLSBBZGQgYW4gQXR0YWNobWVudFxyXG4gICAgLy8gQUxULUVOVEVSICAgICAgICAtIFByZXZpZXdcclxuICAgIC8vIENUUkwtRU5URVIgICAgICAgLSBTdWJtaXRcclxuICAgIG9uS2V5UHJlc3M6IGZ1bmN0aW9uIChlLCB0eXBlKSB7XHJcbiAgICAgICAgLy8gVHJ5IHRvIG1hdGNoIGFsbCB0aGUgaG90IGtleXMuXHJcbiAgICAgICAgdmFyIGtleSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlID8gZS5rZXlDb2RlIDogZS5jaGFyQ29kZSk7XHJcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy50YWdzKSB7XHJcbiAgICAgICAgICAgIHZhciB0YWcgPSB0aGlzLnRhZ3NbaWRdO1xyXG4gICAgICAgICAgICAvLyBQcmVzc2VkIGNvbnRyb2wga2V5P1xyXG4gICAgICAgICAgICBpZiAodGFnLmN0cmxLZXkgJiYgIWVbdGFnLmN0cmxLZXkgKyBcIktleVwiXSkgY29udGludWU7XHJcbiAgICAgICAgICAgIC8vIFByZXNzZWQgbmVlZGVkIGtleT9cclxuICAgICAgICAgICAgaWYgKCF0YWcua2V5IHx8IGtleS50b1VwcGVyQ2FzZSgpICE9PSB0YWcua2V5LnRvVXBwZXJDYXNlKCkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAvLyBJbnNlcnRcclxuICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJrZXlkb3duXCIpIHRoaXMuaW5zZXJ0VGFnKGlkKTtcclxuICAgICAgICAgICAgLy8gUmVzZXQgZXZlbnRcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbEV2ZW50KGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVGFiXHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdwcmVzcycgJiYgZS5rZXlDb2RlID09PSB0aGlzLlZLX1RBQiAmJiAhZS5zaGlmdEtleSAmJiAhZS5jdHJsS2V5ICYmICFlLmFsdEtleSkge1xyXG4gICAgICAgICAgICB0aGlzLmluc2VydEF0Q3Vyc29yKCdbdGFiXScpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VsRXZlbnQoZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDdHJsK1RhYlxyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IHRoaXMuVktfVEFCICYmICFlLnNoaWZ0S2V5ICYmIGUuY3RybEtleSAmJiAhZS5hbHRLZXkpIHtcclxuICAgICAgICAgICAgdGhpcy50ZXh0YXJlYS5mb3JtLnBvc3QuZm9jdXMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbEV2ZW50KGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSG90IGtleXNcclxuICAgICAgICB2YXIgZm9ybSA9IHRoaXMudGV4dGFyZWEuZm9ybTtcclxuICAgICAgICB2YXIgc3VibWl0dGVyID0gbnVsbDtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLlZLX1BBR0VfVVAgJiYgZS5zaGlmdEtleSAmJiAhZS5jdHJsS2V5ICYmIGUuYWx0S2V5KSBzdWJtaXR0ZXIgPSBmb3JtLmFkZF9hdHRhY2htZW50X2JveDtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLlZLX0VOVEVSICYmICFlLnNoaWZ0S2V5ICYmICFlLmN0cmxLZXkgJiYgZS5hbHRLZXkpIHN1Ym1pdHRlciA9IGZvcm0ucHJldmlldztcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLlZLX0VOVEVSICYmICFlLnNoaWZ0S2V5ICYmIGUuY3RybEtleSAmJiAhZS5hbHRLZXkpIHN1Ym1pdHRlciA9IGZvcm0ucG9zdDtcclxuICAgICAgICBpZiAoc3VibWl0dGVyKSB7XHJcbiAgICAgICAgICAgIHN1Ym1pdHRlci5jbGljaygpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VsRXZlbnQoZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gQWRkcyBhIEJCIHRhZyB0byB0aGUgbGlzdFxyXG4gICAgYWRkVGFnOiBmdW5jdGlvbiAoaWQsIG9wZW4sIGNsb3NlLCBrZXksIGN0cmxLZXksIG11bHRpbGluZSkge1xyXG4gICAgICAgIGlmICghY3RybEtleSkgY3RybEtleSA9IFwiY3RybFwiO1xyXG4gICAgICAgIHZhciB0YWcgPSB7fTtcclxuICAgICAgICB0YWcuaWQgPSBpZDtcclxuICAgICAgICB0YWcub3BlbiA9IG9wZW47XHJcbiAgICAgICAgdGFnLmNsb3NlID0gY2xvc2U7XHJcbiAgICAgICAgdGFnLmtleSA9IGtleTtcclxuICAgICAgICB0YWcuY3RybEtleSA9IGN0cmxLZXk7XHJcbiAgICAgICAgdGFnLm11bHRpbGluZSA9IG11bHRpbGluZTtcclxuICAgICAgICB0YWcuZWx0ID0gdGhpcy50ZXh0YXJlYS5mb3JtW2lkXTtcclxuICAgICAgICB0aGlzLnRhZ3NbaWRdID0gdGFnO1xyXG4gICAgICAgIC8vIFNldHVwIGV2ZW50c1xyXG4gICAgICAgIHZhciBlbHQgPSB0YWcuZWx0O1xyXG4gICAgICAgIGlmIChlbHQpIHtcclxuICAgICAgICAgICAgdmFyIHRoID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKGVsdC50eXBlICYmIGVsdC50eXBlLnRvVXBwZXJDYXNlKCkgPT09IFwiQlVUVE9OXCIpIHtcclxuICAgICAgICAgICAgICAgIGFkZEV2ZW50KGVsdCwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoLmluc2VydFRhZyhpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVsdC50YWdOYW1lICYmIGVsdC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiU0VMRUNUXCIpIHtcclxuICAgICAgICAgICAgICAgIGFkZEV2ZW50KGVsdCwgJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aC5pbnNlcnRUYWcoaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGlkICYmIGlkLmluZGV4T2YoJ18nKSAhPT0gMCkgcmV0dXJuIGFsZXJ0KFwiYWRkVGFnKCdcIiArIGlkICsgXCInKTogbm8gc3VjaCBlbGVtZW50IGluIHRoZSBmb3JtXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gSW5zZXJ0cyB0aGUgdGFnIHdpdGggc3BlY2lmaWVkIElEXHJcbiAgICBpbnNlcnRUYWc6IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIC8vIEZpbmQgdGFnXHJcbiAgICAgICAgdmFyIHRhZyA9IHRoaXMudGFnc1tpZF07XHJcbiAgICAgICAgaWYgKCF0YWcpIHJldHVybiBhbGVydChcIlVua25vd24gdGFnIElEOiBcIiArIGlkKTtcclxuXHJcbiAgICAgICAgLy8gT3BlbiB0YWcgaXMgZ2VuZXJhdGVkIGJ5IGNhbGxiYWNrP1xyXG4gICAgICAgIHZhciBvcCA9IHRhZy5vcGVuO1xyXG4gICAgICAgIGlmICh0eXBlb2YgKHRhZy5vcGVuKSA9PT0gXCJmdW5jdGlvblwiKSBvcCA9IHRhZy5vcGVuKHRhZy5lbHQpO1xyXG4gICAgICAgIHZhciBjbCA9IHRhZy5jbG9zZSAhPT0gbnVsbCA/IHRhZy5jbG9zZSA6IFwiL1wiICsgb3A7XHJcblxyXG4gICAgICAgIC8vIFVzZSBcIltcIiBpZiBuZWVkZWRcclxuICAgICAgICBpZiAob3AuY2hhckF0KDApICE9PSB0aGlzLkJSS19PUCkgb3AgPSB0aGlzLkJSS19PUCArIG9wICsgdGhpcy5CUktfQ0w7XHJcbiAgICAgICAgaWYgKGNsICYmIGNsLmNoYXJBdCgwKSAhPT0gdGhpcy5CUktfT1ApIGNsID0gdGhpcy5CUktfT1AgKyBjbCArIHRoaXMuQlJLX0NMO1xyXG5cclxuICAgICAgICB0aGlzLnN1cnJvdW5kKG9wLCBjbCwgIXRhZy5tdWx0aWxpbmUgPyBudWxsIDogdGFnLm11bHRpbGluZSA9PT0gdHJ1ZSA/IHRoaXMuX3ByZXBhcmVNdWx0aWxpbmUgOiB0YWcubXVsdGlsaW5lKTtcclxuICAgIH0sXHJcblxyXG4gICAgX3ByZXBhcmVNdWx0aWxpbmU6IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxzKyQvLCAnJyk7XHJcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXihbIFxcdF0qXFxyP1xcbikrLywgJycpO1xyXG4gICAgICAgIGlmICh0ZXh0LmluZGV4T2YoXCJcXG5cIikgPj0gMCkgdGV4dCA9IFwiXFxuXCIgKyB0ZXh0ICsgXCJcXG5cIjtcclxuICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgIH1cclxufTtcclxuXHJcbi8vIEVtdWxhdGlvbiBvZiBpbm5lclRleHQgZm9yIE1vemlsbGEuXHJcbmlmICh3aW5kb3cuSFRNTEVsZW1lbnQgJiYgd2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZS5fX2RlZmluZVNldHRlcl9fKSB7XHJcbiAgICBIVE1MRWxlbWVudC5wcm90b3R5cGUuX19kZWZpbmVTZXR0ZXJfXyhcImlubmVyVGV4dFwiLCBmdW5jdGlvbiAoc1RleHQpIHtcclxuICAgICAgICB0aGlzLmlubmVySFRNTCA9IHNUZXh0LnJlcGxhY2UoL1xcJi9nLCBcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpLnJlcGxhY2UoLz4vZywgXCImZ3Q7XCIpO1xyXG4gICAgfSk7XHJcbiAgICBIVE1MRWxlbWVudC5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXyhcImlubmVyVGV4dFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHIgPSB0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuICAgICAgICByLnNlbGVjdE5vZGVDb250ZW50cyh0aGlzKTtcclxuICAgICAgICByZXR1cm4gci50b1N0cmluZygpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFkZFNlbGVjdGVkVGV4dChCQk9wZW4sIEJCQ2xvc2UpIHtcclxuICAgIGlmIChkb2N1bWVudC5wb3N0Lm1lc3NhZ2UuY2FyZXRQb3MpIGRvY3VtZW50LnBvc3QubWVzc2FnZS5jYXJldFBvcy50ZXh0ID0gQkJPcGVuICsgZG9jdW1lbnQucG9zdC5tZXNzYWdlLmNhcmV0UG9zLnRleHQgKyBCQkNsb3NlOyBlbHNlIGRvY3VtZW50LnBvc3QubWVzc2FnZS52YWx1ZSArPSBCQk9wZW4gKyBCQkNsb3NlO1xyXG4gICAgZG9jdW1lbnQucG9zdC5tZXNzYWdlLmZvY3VzKClcclxufVxyXG5cclxuZnVuY3Rpb24gSW5zZXJ0QkJDb2RlKEJCY29kZSkge1xyXG4gICAgQWRkU2VsZWN0ZWRUZXh0KCdbJyArIEJCY29kZSArICddJywgJ1svJyArIEJCY29kZSArICddJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0b3JlQ2FyZXQodGV4dEVsKSB7XHJcbiAgICBpZiAodGV4dEVsLmNyZWF0ZVRleHRSYW5nZSkgdGV4dEVsLmNhcmV0UG9zID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkuZHVwbGljYXRlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRQb3N0QkJDb2RlKGNvbnRleHQpIHtcclxuICAgICQoJ3NwYW4ucG9zdC1ocicsIGNvbnRleHQpLmh0bWwoJzxociBhbGlnbj1cImxlZnRcIiAvPicpO1xyXG4gICAgaW5pdENvZGVzKGNvbnRleHQpO1xyXG4gICAgaW5pdFF1b3Rlcyhjb250ZXh0KTtcclxuICAgIGluaXRFeHRlcm5hbExpbmtzKGNvbnRleHQpO1xyXG4gICAgaW5pdFBvc3RJbWFnZXMoY29udGV4dCk7XHJcbiAgICBpbml0U3BvaWxlcnMoY29udGV4dCk7XHJcbiAgICBpbml0TWVkaWEoY29udGV4dCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRDb2Rlcyhjb250ZXh0KSB7XHJcbiAgICAkKCdkaXYuYy1ib2R5JywgY29udGV4dCkuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyICRjID0gJCh0aGlzKTtcclxuICAgICAgICAkYy5iZWZvcmUoJzxkaXYgY2xhc3M9XCJjLWhlYWRcIj48Yj4nICsgYmJsWydjb2RlJ10gKyAnOjwvYj48L2Rpdj4nKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0UXVvdGVzKGNvbnRleHQpIHtcclxuICAgICQoJ2Rpdi5xJywgY29udGV4dCkuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyICRxID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgbmFtZSA9ICQodGhpcykuYXR0cignaGVhZCcpO1xyXG4gICAgICAgIHZhciBxX3RpdGxlID0gKG5hbWUgPyAnPGI+JyArIG5hbWUgKyAnPC9iPiAnICsgYmJsWyd3cm90ZSddICsgJzonIDogJzxiPicgKyBiYmxbJ3F1b3RlJ10gKyAnPC9iPicpO1xyXG4gICAgICAgIGlmIChxdW90ZWRfcGlkID0gJHEuY2hpbGRyZW4oJ3UucS1wb3N0OmZpcnN0JykudGV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBvbl90aGlzX3BhZ2UgPSAkKCcjcG9zdF8nICsgcXVvdGVkX3BpZCkubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgaHJlZiA9IChvbl90aGlzX3BhZ2UpID8gJyMnICsgcXVvdGVkX3BpZCA6ICcuL3ZpZXd0b3BpYy5waHA/cD0nICsgcXVvdGVkX3BpZCArICcjJyArIHF1b3RlZF9waWQ7XHJcbiAgICAgICAgICAgIHFfdGl0bGUgKz0gJyA8YSBocmVmPVwiJyArIGhyZWYgKyAnXCIgdGl0bGU9XCInICsgYmJsWydxdW90ZWRfcG9zdCddICsgJ1wiPjxpbWcgc3JjPVwiJyArIGJiX3VybCArICdzdHlsZXMvdGVtcGxhdGVzL2RlZmF1bHQvaW1hZ2VzL2ljb25fbGF0ZXN0X3JlcGx5LmdpZlwiIGNsYXNzPVwiaWNvbjJcIiBhbHQ9XCJcIiAvPjwvYT4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkcS5iZWZvcmUoJzxkaXYgY2xhc3M9XCJxLWhlYWRcIj4nICsgcV90aXRsZSArICc8L2Rpdj4nKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0UG9zdEltYWdlcyhjb250ZXh0KSB7XHJcbiAgICBpZiAoaGlkZVBvc3RJbWcpIHJldHVybjtcclxuICAgIHZhciAkaW5fc3BvaWxlcnMgPSAkKCdkaXYuc3AtYm9keSB2YXIucG9zdEltZycsIGNvbnRleHQpO1xyXG4gICAgJCgndmFyLnBvc3RJbWcnLCBjb250ZXh0KS5ub3QoJGluX3Nwb2lsZXJzKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgJHYgPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBzcmMgPSAkdi5hdHRyKCd0aXRsZScpO1xyXG4gICAgICAgIHZhciAkaW1nID0gJCgnPGltZyBzcmM9XCInICsgc3JjICsgJ1wiIGNsYXNzPVwiJyArICR2LmF0dHIoJ2NsYXNzJykgKyAnXCIgYWx0PVwicGljXCIgLz4nKTtcclxuICAgICAgICAkaW1nID0gZml4UG9zdEltYWdlKCRpbWcpO1xyXG4gICAgICAgIHZhciBtYXhXID0gKCR2Lmhhc0NsYXNzKCdwb3N0SW1nQWxpZ25lZCcpKSA/IHBvc3RJbWdBbGlnbmVkX01heFdpZHRoIDogcG9zdEltZ19NYXhXaWR0aDtcclxuICAgICAgICAkaW1nLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW1nRml0KHRoaXMsIG1heFcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh1c2VyLm9wdF9qcy5pX2FmdF9sKSB7XHJcbiAgICAgICAgICAgICQoJyNwcmVsb2FkJykuYXBwZW5kKCRpbWcpO1xyXG4gICAgICAgICAgICB2YXIgbG9hZGluZ19pY29uID0gJzxhIGhyZWY9XCInICsgc3JjICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPjxpbWcgc3JjPVwiJyArIGJiX3VybCArICdzdHlsZXMvaW1hZ2VzL3BpY19sb2FkaW5nLmdpZlwiIGFsdD1cIlwiIC8+PC9hPic7XHJcbiAgICAgICAgICAgICR2Lmh0bWwobG9hZGluZ19pY29uKTtcclxuICAgICAgICAgICAgaWYgKCQuYnJvd3Nlci5tc2llKSB7XHJcbiAgICAgICAgICAgICAgICAkdi5hZnRlcignPHdicj4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkaW1nLm9uZSgnbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGltZ0ZpdCh0aGlzLCBtYXhXKTtcclxuICAgICAgICAgICAgICAgICR2LmVtcHR5KCkuYXBwZW5kKHRoaXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkaW1nLm9uZSgnbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGltZ0ZpdCh0aGlzLCBtYXhXKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJHYuZW1wdHkoKS5hcHBlbmQoJGltZyk7XHJcbiAgICAgICAgICAgIGlmICgkLmJyb3dzZXIubXNpZSkge1xyXG4gICAgICAgICAgICAgICAgJHYuYWZ0ZXIoJzx3YnI+Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdFNwb2lsZXJzKGNvbnRleHQpIHtcclxuICAgICQoJ2Rpdi5zcC1ib2R5JywgY29udGV4dCkuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyICRzcF9ib2R5ID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgbmFtZSA9ICQudHJpbSh0aGlzLnRpdGxlKSB8fCAnJyArIGJibFsnc3BvaWxlcl9oZWFkJ10gKyAnJztcclxuICAgICAgICB0aGlzLnRpdGxlID0gJyc7XHJcbiAgICAgICAgdmFyICRzcF9oZWFkID0gJCgnPGRpdiBjbGFzcz1cInNwLWhlYWQgZm9sZGVkIGNsaWNrYWJsZVwiPicgKyBuYW1lICsgJzwvZGl2PicpO1xyXG4gICAgICAgICRzcF9oZWFkLmluc2VydEJlZm9yZSgkc3BfYm9keSkuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKCEkc3BfYm9keS5oYXNDbGFzcygnaW5pdGVkJykpIHtcclxuICAgICAgICAgICAgICAgIGluaXRQb3N0SW1hZ2VzKCRzcF9ib2R5KTtcclxuICAgICAgICAgICAgICAgIHZhciAkc3BfZm9sZF9idG4gPSAkKCc8ZGl2IGNsYXNzPVwic3AtZm9sZCBjbGlja2FibGVcIj5bJyArIGJibFsnc3BvaWxlcl9jbG9zZSddICsgJ108L2Rpdj4nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5zY3JvbGxUbygkc3BfaGVhZCwge2R1cmF0aW9uOiAyMDAsIGF4aXM6ICd5Jywgb2Zmc2V0OiAtMjAwfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNwX2hlYWQuY2xpY2soKS5hbmltYXRlKHtvcGFjaXR5OiAwLjF9LCA1MDApLmFuaW1hdGUoe29wYWNpdHk6IDF9LCA3MDApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkc3BfYm9keS5wcmVwZW5kKCc8ZGl2IGNsYXNzPVwiY2xlYXJcIj48L2Rpdj4nKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJjbGVhclwiPjwvZGl2PicpLmFwcGVuZCgkc3BfZm9sZF9idG4pLmFkZENsYXNzKCdpbml0ZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGUuc2hpZnRLZXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZhciBmb2xkID0gJCh0aGlzKS5oYXNDbGFzcygndW5mb2xkZWQnKTtcclxuICAgICAgICAgICAgICAgICQoJ2Rpdi5zcC1oZWFkJywgJCgkc3BfYm9keS5wYXJlbnRzKCd0ZCcpWzBdKSkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5oYXNDbGFzcygndW5mb2xkZWQnKSA/IGZvbGQgOiAhZm9sZFxyXG4gICAgICAgICAgICAgICAgfSkuY2xpY2soKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ3VuZm9sZGVkJyk7XHJcbiAgICAgICAgICAgICAgICAkc3BfYm9keS5zbGlkZVRvZ2dsZSgnZmFzdCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdEV4dGVybmFsTGlua3MoY29udGV4dCkge1xyXG4gICAgdmFyIGNvbnRleHQgPSBjb250ZXh0IHx8ICdib2R5JztcclxuICAgIGlmIChFeHRlcm5hbExpbmtzX0luTmV3V2luZG93KSB7XHJcbiAgICAgICAgJChcImEucG9zdExpbms6bm90KFtocmVmKj0nXCIgKyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgKyBcIi8nXSlcIiwgY29udGV4dCkuYXR0cih7dGFyZ2V0OiAnX2JsYW5rJ30pO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBmaXhQb3N0SW1hZ2UoJGltZykge1xyXG4gICAgdmFyIGJhbm5lZF9pbWFnZV9ob3N0cyA9IC9pbWFnZWJhbmFuYXxoaWRlYmVoaW5kL2k7XHJcbiAgICB2YXIgc3JjID0gJGltZ1swXS5zcmM7XHJcbiAgICBpZiAoc3JjLm1hdGNoKGJhbm5lZF9pbWFnZV9ob3N0cykpIHtcclxuICAgICAgICAkaW1nLndyYXAoJzxhIGhyZWY9XCInICsgdGhpcy5zcmMgKyAnXCIgdGFyZ2V0PVwiX2JsYW5rXCI+PC9hPicpLmF0dHIoe1xyXG4gICAgICAgICAgICBzcmM6IFwiXCIgKyBiYl91cmwgKyBcInN0eWxlcy9pbWFnZXMvc21pbGVzL3RyX29vcHMuZ2lmXCIsIHRpdGxlOiBcIlwiICsgYmJsWydzY3JfcnVsZXMnXSArIFwiXCJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiAkaW1nO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0TWVkaWEoY29udGV4dCkge1xyXG4gICAgdmFyIGFwb3N0TGluayA9ICQoJ2EucG9zdExpbmsnLCBjb250ZXh0KTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXBvc3RMaW5rLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGxpbmsgPSBhcG9zdExpbmtbaV07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBsaW5rLmhyZWYgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoL15odHRwKD86c3wpOlxcL1xcL3d3dy55b3V0dWJlLmNvbVxcL3dhdGNoXFw/KC4qKT8oJj92PShbYS16MC05XFwtX10rKSkoLiopP3xodHRwOlxcL1xcL3lvdXR1LmJlXFwvLisvaS50ZXN0KGxpbmsuaHJlZikpIHtcclxuICAgICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgICAgIGEuY2xhc3NOYW1lID0gJ1lUTGluayc7XHJcbiAgICAgICAgICAgIGEuaW5uZXJIVE1MID0gJzxzcGFuIHRpdGxlPVwiJyArIGJibFsncGxheV9vbiddICsgJ1wiIGNsYXNzPVwiWVRMaW5rQnV0dG9uXCI+JiM5NjU4Ozwvc3Bhbj4nO1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnQoYSwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2aHJlZiA9IGUudGFyZ2V0Lm5leHRTaWJsaW5nLmhyZWYucmVwbGFjZSgvXmh0dHAoPzpzfCk6XFwvXFwvd3d3LnlvdXR1YmUuY29tXFwvd2F0Y2hcXD8oLiopPygmP3Y9KFthLXowLTlcXC1fXSspKSguKik/fGh0dHA6XFwvXFwveW91dHUuYmVcXC8vaWcsIFwiaHR0cDovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8kM1wiKTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gZS50YXJnZXQubmV4dFNpYmxpbmcuaW5uZXJUZXh0ICE9PSBcIlwiID8gZS50YXJnZXQubmV4dFNpYmxpbmcuaW5uZXJUZXh0IDogZS50YXJnZXQubmV4dFNpYmxpbmcuaHJlZjtcclxuICAgICAgICAgICAgICAgICQoJyNQYW5lbF95b3V0dWJlJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB5cGFuZWwoJ3lvdXR1YmUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICc8Yj4nICsgdGV4dCArICc8L2I+JyxcclxuICAgICAgICAgICAgICAgICAgICByZXNpemluZzogMCxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogODYyLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogNTUwLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICc8aWZyYW1lIHdpZHRoPVwiODUzXCIgaGVpZ2h0PVwiNDkzXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPVwiXCIgc3JjPVwiJyArIHZocmVmICsgJz93bW9kZT1vcGFxdWVcIj48L2lmcmFtZT4nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxpbmsucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSwgbGluayk7XHJcbiAgICAgICAgICAgIGEuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCdkaXYucG9zdF93cmFwLCBkaXYuc2lnbmF0dXJlJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaW5pdFBvc3RCQkNvZGUoJCh0aGlzKSlcclxuICAgIH0pO1xyXG59KTtcclxuIiwiLypcclxuICogVG9ycmVudFBpZXIg4oCTIEJ1bGwtcG93ZXJlZCBCaXRUb3JyZW50IHRyYWNrZXIgZW5naW5lXHJcbiAqXHJcbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDA1LTIwMjQgVG9ycmVudFBpZXIgKGh0dHBzOi8vdG9ycmVudHBpZXIuY29tKVxyXG4gKiBAbGluayAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS90b3JyZW50cGllci90b3JyZW50cGllciBmb3IgdGhlIGNhbm9uaWNhbCBzb3VyY2UgcmVwb3NpdG9yeVxyXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vZ2l0aHViLmNvbS90b3JyZW50cGllci90b3JyZW50cGllci9ibG9iL21hc3Rlci9MSUNFTlNFIE1JVCBMaWNlbnNlXHJcbiAqL1xyXG5cclxuLy8gcHJvdG90eXBlICRcclxuZnVuY3Rpb24gJHAoKSB7XHJcbiAgICB2YXIgZWxlbWVudHMgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJykgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVsZW1lbnRzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRFdmVudChvYmosIHR5cGUsIGZuKSB7XHJcbiAgICBpZiAob2JqLmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuICAgICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgZmFsc2UpO1xyXG4gICAgICAgIEV2ZW50Q2FjaGUuYWRkKG9iaiwgdHlwZSwgZm4pO1xyXG4gICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHtcclxuICAgICAgICBvYmpbXCJlXCIgKyB0eXBlICsgZm5dID0gZm47XHJcbiAgICAgICAgb2JqW3R5cGUgKyBmbl0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG9ialtcImVcIiArIHR5cGUgKyBmbl0od2luZG93LmV2ZW50KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIG9iai5hdHRhY2hFdmVudChcIm9uXCIgKyB0eXBlLCBvYmpbdHlwZSArIGZuXSk7XHJcbiAgICAgICAgRXZlbnRDYWNoZS5hZGQob2JqLCB0eXBlLCBmbik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG9ialtcIm9uXCIgKyB0eXBlXSA9IG9ialtcImVcIiArIHR5cGUgKyBmbl07XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBFdmVudENhY2hlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGxpc3RFdmVudHMgPSBbXTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbGlzdEV2ZW50czogbGlzdEV2ZW50cywgYWRkOiBmdW5jdGlvbiAobm9kZSwgc0V2ZW50TmFtZSwgZkhhbmRsZXIpIHtcclxuICAgICAgICAgICAgbGlzdEV2ZW50cy5wdXNoKGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfSwgZmx1c2g6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGksIGl0ZW07XHJcbiAgICAgICAgICAgIGZvciAoaSA9IGxpc3RFdmVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpID0gaSAtIDEpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0gPSBsaXN0RXZlbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1bMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1bMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihpdGVtWzFdLCBpdGVtWzJdLCBpdGVtWzNdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpdGVtWzFdLnN1YnN0cmluZygwLCAyKSAhPT0gXCJvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbVsxXSA9IFwib25cIiArIGl0ZW1bMV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbVswXS5kZXRhY2hFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1bMF0uZGV0YWNoRXZlbnQoaXRlbVsxXSwgaXRlbVsyXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpdGVtWzBdW2l0ZW1bMV1dID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0oKTtcclxuaWYgKGRvY3VtZW50LmFsbCkge1xyXG4gICAgYWRkRXZlbnQod2luZG93LCAndW5sb2FkJywgRXZlbnRDYWNoZS5mbHVzaCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGltZ0ZpdChpbWcsIG1heFcpIHtcclxuICAgIGltZy50aXRsZSA9ICfQoNCw0LfQvNC10YDRiyDQuNC30L7QsdGA0LDQttC10L3QuNGPOiAnICsgaW1nLndpZHRoICsgJyB4ICcgKyBpbWcuaGVpZ2h0O1xyXG4gICAgaWYgKHR5cGVvZiAoaW1nLm5hdHVyYWxIZWlnaHQpID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGltZy5uYXR1cmFsSGVpZ2h0ID0gaW1nLmhlaWdodDtcclxuICAgICAgICBpbWcubmF0dXJhbFdpZHRoID0gaW1nLndpZHRoO1xyXG4gICAgfVxyXG4gICAgaWYgKGltZy53aWR0aCA+IG1heFcpIHtcclxuICAgICAgICBpbWcuaGVpZ2h0ID0gTWF0aC5yb3VuZCgobWF4VyAvIGltZy53aWR0aCkgKiBpbWcuaGVpZ2h0KTtcclxuICAgICAgICBpbWcud2lkdGggPSBtYXhXO1xyXG4gICAgICAgIGltZy50aXRsZSA9ICfQndCw0LbQvNC40YLQtSDQvdCwINC40LfQvtCx0YDQsNC20LXQvdC40LUsINGH0YLQvtCx0Ysg0L/QvtGB0LzQvtGC0YDQtdGC0Ywg0LXQs9C+INCyINC/0L7Qu9C90YvQuSDRgNCw0LfQvNC10YAnO1xyXG4gICAgICAgIGltZy5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBlbHNlIGlmIChpbWcud2lkdGggPT09IG1heFcgJiYgaW1nLndpZHRoIDwgaW1nLm5hdHVyYWxXaWR0aCkge1xyXG4gICAgICAgIGltZy5oZWlnaHQgPSBpbWcubmF0dXJhbEhlaWdodDtcclxuICAgICAgICBpbWcud2lkdGggPSBpbWcubmF0dXJhbFdpZHRoO1xyXG4gICAgICAgIGltZy50aXRsZSA9ICfQoNCw0LfQvNC10YDRiyDQuNC30L7QsdGA0LDQttC10L3QuNGPOiAnICsgaW1nLm5hdHVyYWxXaWR0aCArICcgeCAnICsgaW1nLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlX2Jsb2NrKGlkKSB7XHJcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gKGVsLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykgPyAnJyA6ICdub25lJztcclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlX2Rpc2FibGVkKGlkLCB2YWwpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5kaXNhYmxlZCA9ICh2YWwpID8gMCA6IDE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJhbmQobWluLCBtYXgpIHtcclxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKChtYXggLSBtaW4gKyAxKSAqIE1hdGgucmFuZG9tKCkpO1xyXG59XHJcblxyXG4vLyBDb29raWUgZnVuY3Rpb25zXHJcbi8qKlxyXG4gKiBuYW1lICAgICAgIE5hbWUgb2YgdGhlIGNvb2tpZVxyXG4gKiB2YWx1ZSAgICAgIFZhbHVlIG9mIHRoZSBjb29raWVcclxuICogW2RheXNdICAgICBOdW1iZXIgb2YgZGF5cyB0byByZW1haW4gYWN0aXZlIChkZWZhdWx0OiBlbmQgb2YgY3VycmVudCBzZXNzaW9uKVxyXG4gKiBbcGF0aF0gICAgIFBhdGggd2hlcmUgdGhlIGNvb2tpZSBpcyB2YWxpZCAoZGVmYXVsdDogcGF0aCBvZiBjYWxsaW5nIGRvY3VtZW50KVxyXG4gKiBbZG9tYWluXSAgIERvbWFpbiB3aGVyZSB0aGUgY29va2llIGlzIHZhbGlkXHJcbiAqICAgICAgICAgICAgKGRlZmF1bHQ6IGRvbWFpbiBvZiBjYWxsaW5nIGRvY3VtZW50KVxyXG4gKiBbc2VjdXJlXSAgIEJvb2xlYW4gdmFsdWUgaW5kaWNhdGluZyBpZiB0aGUgY29va2llIHRyYW5zbWlzc2lvbiByZXF1aXJlcyBhXHJcbiAqICAgICAgICAgICAgc2VjdXJlIHRyYW5zbWlzc2lvblxyXG4gKi9cclxuZnVuY3Rpb24gc2V0Q29va2llKG5hbWUsIHZhbHVlLCBkYXlzLCBwYXRoLCBkb21haW4sIHNlY3VyZSkge1xyXG4gICAgaWYgKGRheXMgIT09ICdTRVNTSU9OJykge1xyXG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICBkYXlzID0gZGF5cyB8fCAzNjU7XHJcbiAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xyXG4gICAgICAgIHZhciBleHBpcmVzID0gZGF0ZS50b0dNVFN0cmluZygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgZXhwaXJlcyA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAnPScgKyBlbmNvZGVVUkkodmFsdWUpICsgKChleHBpcmVzKSA/ICc7IGV4cGlyZXM9JyArIGV4cGlyZXMgOiAnJykgKyAoKHBhdGgpID8gJzsgcGF0aD0nICsgcGF0aCA6ICgoY29va2llUGF0aCkgPyAnOyBwYXRoPScgKyBjb29raWVQYXRoIDogJycpKSArICgoZG9tYWluKSA/ICc7IGRvbWFpbj0nICsgZG9tYWluIDogKChjb29raWVEb21haW4pID8gJzsgZG9tYWluPScgKyBjb29raWVEb21haW4gOiAnJykpICsgKChzZWN1cmUpID8gJzsgc2VjdXJlJyA6ICgoY29va2llU2VjdXJlKSA/ICc7IHNlY3VyZScgOiAnJykpO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyBjb250YWluaW5nIHZhbHVlIG9mIHNwZWNpZmllZCBjb29raWUsXHJcbiAqICAgb3IgbnVsbCBpZiBjb29raWUgZG9lcyBub3QgZXhpc3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xyXG4gICAgdmFyIGMsIFJFID0gbmV3IFJlZ0V4cCgnKF58OylcXFxccyonICsgbmFtZSArICdcXFxccyo9XFxcXHMqKFteXFxcXHM7XSspJywgJ2cnKTtcclxuICAgIHJldHVybiAoYyA9IFJFLmV4ZWMoZG9jdW1lbnQuY29va2llKSkgPyBjWzJdIDogbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIG5hbWUgICAgICBuYW1lIG9mIHRoZSBjb29raWVcclxuICogW3BhdGhdICAgIHBhdGggb2YgdGhlIGNvb2tpZSAobXVzdCBiZSBzYW1lIGFzIHBhdGggdXNlZCB0byBjcmVhdGUgY29va2llKVxyXG4gKiBbZG9tYWluXSAgZG9tYWluIG9mIHRoZSBjb29raWUgKG11c3QgYmUgc2FtZSBhcyBkb21haW4gdXNlZCB0byBjcmVhdGUgY29va2llKVxyXG4gKi9cclxuZnVuY3Rpb24gZGVsZXRlQ29va2llKG5hbWUsIHBhdGgsIGRvbWFpbikge1xyXG4gICAgc2V0Q29va2llKG5hbWUsICcnLCAtMSwgcGF0aCwgZG9tYWluKTtcclxufVxyXG5cclxuLy8gTWVudXNcclxudmFyIE1lbnUgPSB7XHJcbiAgICBoaWRlU3BlZWQ6ICdmYXN0Jywgb2Zmc2V0Q29ycmVjdGlvbl9YOiAtNCwgb2Zmc2V0Q29ycmVjdGlvbl9ZOiAyLFxyXG5cclxuICAgIGFjdGl2ZU1lbnVJZDogbnVsbCwgIC8vICBjdXJyZW50bHkgb3BlbmVkIG1lbnUgKGZyb20gcHJldmlvdXMgY2xpY2spXHJcbiAgICBjbGlja2VkTWVudUlkOiBudWxsLCAgLy8gIG1lbnUgdG8gc2hvdyB1cFxyXG4gICAgJHJvb3Q6IG51bGwsICAvLyAgcm9vdCBlbGVtZW50IGZvciBtZW51IHdpdGggXCJocmVmID0gJyNjbGlja2VkTWVudUlkJ1wiXHJcbiAgICAkbWVudTogbnVsbCwgIC8vICBjbGlja2VkIG1lbnVcclxuICAgIHBvc2l0aW9uaW5nVHlwZTogbnVsbCwgIC8vICByZXNlcnZlZFxyXG4gICAgb3V0c2lkZUNsaWNrV2F0Y2g6IGZhbHNlLCAvLyAgcHJldmVudCBtdWx0aXBsZSAkKGRvY3VtZW50KS5jbGljayBiaW5kaW5nXHJcblxyXG4gICAgY2xpY2tlZDogZnVuY3Rpb24gKCRyb290KSB7XHJcbiAgICAgICAgJHJvb3QuYmx1cigpO1xyXG4gICAgICAgIHRoaXMuY2xpY2tlZE1lbnVJZCA9IHRoaXMuZ2V0TWVudUlkKCRyb290KTtcclxuICAgICAgICB0aGlzLiRtZW51ID0gJCh0aGlzLmNsaWNrZWRNZW51SWQpO1xyXG4gICAgICAgIHRoaXMuJHJvb3QgPSAkcm9vdDtcclxuICAgICAgICB0aGlzLnRvZ2dsZSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICBob3ZlcmVkOiBmdW5jdGlvbiAoJHJvb3QpIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVNZW51SWQgJiYgdGhpcy5hY3RpdmVNZW51SWQgIT09IHRoaXMuZ2V0TWVudUlkKCRyb290KSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsaWNrZWQoJHJvb3QpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdW5ob3ZlcmVkOiBmdW5jdGlvbiAoJHJvb3QpIHtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0TWVudUlkOiBmdW5jdGlvbiAoJGVsKSB7XHJcbiAgICAgICAgdmFyIGhyZWYgPSAkZWwuYXR0cignaHJlZicpO1xyXG4gICAgICAgIHJldHVybiBocmVmLnN1YnN0cihocmVmLmluZGV4T2YoJyMnKSk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldExvY2F0aW9uOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIENTUyA9IHRoaXMuJHJvb3Qub2Zmc2V0KCk7XHJcbiAgICAgICAgQ1NTLnRvcCArPSB0aGlzLiRyb290LmhlaWdodCgpICsgdGhpcy5vZmZzZXRDb3JyZWN0aW9uX1k7XHJcbiAgICAgICAgdmFyIGN1clRvcCA9IHBhcnNlSW50KENTUy50b3ApO1xyXG4gICAgICAgIHZhciB0Q29ybmVyID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaGVpZ2h0KCkgLSAyMDtcclxuICAgICAgICB2YXIgbWF4VmlzaWJsZVRvcCA9IE1hdGgubWluKGN1clRvcCwgTWF0aC5tYXgoMCwgdENvcm5lciAtIHRoaXMuJG1lbnUuaGVpZ2h0KCkpKTtcclxuICAgICAgICBpZiAoY3VyVG9wICE9PSBtYXhWaXNpYmxlVG9wKSB7XHJcbiAgICAgICAgICAgIENTUy50b3AgPSBtYXhWaXNpYmxlVG9wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBDU1MubGVmdCArPSB0aGlzLm9mZnNldENvcnJlY3Rpb25fWDtcclxuICAgICAgICB2YXIgY3VyTGVmdCA9IHBhcnNlSW50KENTUy5sZWZ0KTtcclxuICAgICAgICB2YXIgckNvcm5lciA9ICQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSArICQod2luZG93KS53aWR0aCgpIC0gNjtcclxuICAgICAgICB2YXIgbWF4VmlzaWJsZUxlZnQgPSBNYXRoLm1pbihjdXJMZWZ0LCBNYXRoLm1heCgwLCByQ29ybmVyIC0gdGhpcy4kbWVudS53aWR0aCgpKSk7XHJcbiAgICAgICAgaWYgKGN1ckxlZnQgIT09IG1heFZpc2libGVMZWZ0KSB7XHJcbiAgICAgICAgICAgIENTUy5sZWZ0ID0gbWF4VmlzaWJsZUxlZnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuJG1lbnUuY3NzKENTUyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGZpeExvY2F0aW9uOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyICRtZW51ID0gdGhpcy4kbWVudTtcclxuICAgICAgICB2YXIgY3VyTGVmdCA9IHBhcnNlSW50KCRtZW51LmNzcygnbGVmdCcpKTtcclxuICAgICAgICB2YXIgckNvcm5lciA9ICQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSArICQod2luZG93KS53aWR0aCgpIC0gNjtcclxuICAgICAgICB2YXIgbWF4VmlzaWJsZUxlZnQgPSBNYXRoLm1pbihjdXJMZWZ0LCBNYXRoLm1heCgwLCByQ29ybmVyIC0gJG1lbnUud2lkdGgoKSkpO1xyXG4gICAgICAgIGlmIChjdXJMZWZ0ICE9PSBtYXhWaXNpYmxlTGVmdCkge1xyXG4gICAgICAgICAgICAkbWVudS5jc3MoJ2xlZnQnLCBtYXhWaXNpYmxlTGVmdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjdXJUb3AgPSBwYXJzZUludCgkbWVudS5jc3MoJ3RvcCcpKTtcclxuICAgICAgICB2YXIgdENvcm5lciA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpICsgJCh3aW5kb3cpLmhlaWdodCgpIC0gMjA7XHJcbiAgICAgICAgdmFyIG1heFZpc2libGVUb3AgPSBNYXRoLm1pbihjdXJUb3AsIE1hdGgubWF4KDAsIHRDb3JuZXIgLSAkbWVudS5oZWlnaHQoKSkpO1xyXG4gICAgICAgIGlmIChjdXJUb3AgIT09IG1heFZpc2libGVUb3ApIHtcclxuICAgICAgICAgICAgJG1lbnUuY3NzKCd0b3AnLCBtYXhWaXNpYmxlVG9wKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHRvZ2dsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZU1lbnVJZCAmJiB0aGlzLmFjdGl2ZU1lbnVJZCAhPT0gdGhpcy5jbGlja2VkTWVudUlkKSB7XHJcbiAgICAgICAgICAgICQodGhpcy5hY3RpdmVNZW51SWQpLmhpZGUodGhpcy5oaWRlU3BlZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0b2dnbGUgY2xpY2tlZCBtZW51XHJcbiAgICAgICAgaWYgKHRoaXMuJG1lbnUuaXMoJzp2aXNpYmxlJykpIHtcclxuICAgICAgICAgICAgdGhpcy4kbWVudS5oaWRlKHRoaXMuaGlkZVNwZWVkKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVNZW51SWQgPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0NsaWNrZWRNZW51KCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5vdXRzaWRlQ2xpY2tXYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub25lKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE1lbnUuaGlkZUNsaWNrV2F0Y2hlcihlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vdXRzaWRlQ2xpY2tXYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHNob3dDbGlja2VkTWVudTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc2V0TG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLiRtZW51LmNzcyh7ZGlzcGxheTogJ2Jsb2NrJ30pO1xyXG4gICAgICAgIC8vIHRoaXMuZml4TG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLmFjdGl2ZU1lbnVJZCA9IHRoaXMuY2xpY2tlZE1lbnVJZDtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gaGlkZSBpZiBjbGlja2VkIG91dHNpZGUgb2YgbWVudVxyXG4gICAgaGlkZUNsaWNrV2F0Y2hlcjogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB0aGlzLm91dHNpZGVDbGlja1dhdGNoID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5oaWRlKGUpO1xyXG4gICAgfSxcclxuXHJcbiAgICBoaWRlOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmICh0aGlzLiRtZW51KSB7XHJcbiAgICAgICAgICAgIHRoaXMuJG1lbnUuaGlkZSh0aGlzLmhpZGVTcGVlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWN0aXZlTWVudUlkID0gdGhpcy5jbGlja2VkTWVudUlkID0gdGhpcy4kbWVudSA9IG51bGw7XHJcbiAgICB9XHJcbn07XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBNZW51c1xyXG4gICAgJCgnYm9keScpLmFwcGVuZCgkKCdkaXYubWVudS1zdWInKSk7XHJcbiAgICAkKCdhLm1lbnUtcm9vdCcpXHJcbiAgICAgICAgLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgTWVudS5jbGlja2VkKCQodGhpcykpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuaG92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBNZW51LmhvdmVyZWQoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIE1lbnUudW5ob3ZlcmVkKCQodGhpcykpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAkKCdkaXYubWVudS1zdWInKVxyXG4gICAgICAgIC5tb3VzZWRvd24oZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5maW5kKCdhJylcclxuICAgICAgICAuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgTWVudS5oaWRlKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgLy8gSW5wdXQgaGludHNcclxuICAgICQoJ2lucHV0JylcclxuICAgICAgICAuZmlsdGVyKCcuaGludCcpLm9uZSgnZm9jdXMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS52YWwoJycpLnJlbW92ZUNsYXNzKCdoaW50Jyk7XHJcbiAgICB9KVxyXG4gICAgICAgIC5lbmQoKVxyXG4gICAgICAgIC5maWx0ZXIoJy5lcnJvcicpLm9uZSgnZm9jdXMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZXJyb3InKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbi8vXHJcbi8vIEFqYXhcclxuLy9cclxuZnVuY3Rpb24gQWpheChoYW5kbGVyVVJMLCByZXF1ZXN0VHlwZSwgZGF0YVR5cGUpIHtcclxuICAgIHRoaXMudXJsID0gaGFuZGxlclVSTDtcclxuICAgIHRoaXMudHlwZSA9IHJlcXVlc3RUeXBlO1xyXG4gICAgdGhpcy5kYXRhVHlwZSA9IGRhdGFUeXBlO1xyXG4gICAgdGhpcy5lcnJvcnMgPSB7fTtcclxufVxyXG5cclxuQWpheC5wcm90b3R5cGUgPSB7XHJcbiAgICBpbml0OiB7fSwgIC8vIGluaXQgZnVuY3Rpb25zIChydW4gYmVmb3JlIHN1Ym1pdCwgYWZ0ZXIgdHJpZ2dlcmluZyBhamF4IGV2ZW50KVxyXG4gICAgY2FsbGJhY2s6IHt9LCAgLy8gY2FsbGJhY2sgZnVuY3Rpb25zIChyZXNwb25zZSBoYW5kbGVycylcclxuICAgIHN0YXRlOiB7fSwgIC8vIGN1cnJlbnQgYWN0aW9uIHN0YXRlXHJcbiAgICByZXF1ZXN0OiB7fSwgIC8vIHJlcXVlc3QgZGF0YVxyXG4gICAgcGFyYW1zOiB7fSwgIC8vIGFjdGlvbiBwYXJhbXMsIGZvcm1hdDogYWpheC5wYXJhbXNbRWxlbWVudElEXSA9IHsgcGFyYW06IFwidmFsXCIgLi4uIH1cclxuICAgIGZvcm1fdG9rZW46ICcnLCBoaWRlX2xvYWRpbmc6IG51bGwsXHJcblxyXG4gICAgZXhlYzogZnVuY3Rpb24gKHJlcXVlc3QsIGhpZGVfbG9hZGluZyA9IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0W3JlcXVlc3QuYWN0aW9uXSA9IHJlcXVlc3Q7XHJcbiAgICAgICAgcmVxdWVzdFsnZm9ybV90b2tlbiddID0gdGhpcy5mb3JtX3Rva2VuO1xyXG4gICAgICAgIHRoaXMuaGlkZV9sb2FkaW5nID0gaGlkZV9sb2FkaW5nO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogdGhpcy51cmwsXHJcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6IHRoaXMuZGF0YVR5cGUsXHJcbiAgICAgICAgICAgIGRhdGE6IHJlcXVlc3QsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGFqYXguc3VjY2VzcyxcclxuICAgICAgICAgICAgZXJyb3I6IGFqYXguZXJyb3JcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgdmFyIGFjdGlvbiA9IHJlc3BvbnNlLmFjdGlvbjtcclxuICAgICAgICAvLyByYXdfb3V0cHV0IG5vcm1hbGx5IG1pZ2h0IGNvbnRhaW4gb25seSBlcnJvciBtZXNzYWdlcyAoaWYgcGhwLmluaS5kaXNwbGF5X2Vycm9ycyA9PSAxKVxyXG4gICAgICAgIGlmIChyZXNwb25zZS5yYXdfb3V0cHV0KSB7XHJcbiAgICAgICAgICAgICQoJ2JvZHknKS5wcmVwZW5kKHJlc3BvbnNlLnJhd19vdXRwdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVzcG9uc2Uuc3FsX2xvZykge1xyXG4gICAgICAgICAgICAkKCcjc3FsTG9nJykucHJlcGVuZChyZXNwb25zZS5zcWxfbG9nICsgJzxociAvPicpO1xyXG4gICAgICAgICAgICBmaXhTcWxMb2coKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLnVwZGF0ZV9pZHMpIHtcclxuICAgICAgICAgICAgZm9yIChpZCBpbiByZXNwb25zZS51cGRhdGVfaWRzKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjJyArIGlkKS5odG1sKHJlc3BvbnNlLnVwZGF0ZV9pZHNbaWRdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVzcG9uc2UucHJvbXB0X3Bhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgIHZhciB1c2VyX3Bhc3N3b3JkID0gcHJvbXB0KCfQlNC70Y8g0LTQvtGB0YLRg9C/0LAg0Log0LTQsNC90L3QvtC5INGE0YPQvdC60YbQuNC4LCDQv9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0YHQstC+0Lkg0L/QsNGA0L7Qu9GMJywgJycpO1xyXG4gICAgICAgICAgICBpZiAodXNlcl9wYXNzd29yZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcSA9IGFqYXgucmVxdWVzdFthY3Rpb25dO1xyXG4gICAgICAgICAgICAgICAgcmVxLnVzZXJfcGFzc3dvcmQgPSB1c2VyX3Bhc3N3b3JkO1xyXG4gICAgICAgICAgICAgICAgYWpheC5leGVjKHJlcSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhamF4LmNsZWFyQWN0aW9uU3RhdGUoYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIGFqYXguc2hvd0Vycm9yTXNnKCfQktCy0LXQtNC10L0g0L3QtdCy0LXRgNC90YvQuSDQv9Cw0YDQvtC70YwnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UucHJvbXB0X2NvbmZpcm0pIHtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25maXJtKHJlc3BvbnNlLmNvbmZpcm1fbXNnKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcSA9IGFqYXgucmVxdWVzdFthY3Rpb25dO1xyXG4gICAgICAgICAgICAgICAgcmVxLmNvbmZpcm1lZCA9IDE7XHJcbiAgICAgICAgICAgICAgICBhamF4LmV4ZWMocmVxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFqYXguY2xlYXJBY3Rpb25TdGF0ZShhY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5lcnJvcl9jb2RlKSB7XHJcbiAgICAgICAgICAgIGFqYXguc2hvd0Vycm9yTXNnKHJlc3BvbnNlLmVycm9yX21zZyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmNvbnNvbGVfbG9nKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRpbmctMScpLnJlbW92ZUNsYXNzKCdsb2FkaW5nLTEnKS5odG1sKCdlcnJvcicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFqYXguY2FsbGJhY2tbYWN0aW9uXShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIGFqYXguY2xlYXJBY3Rpb25TdGF0ZShhY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgZXJyb3I6IGZ1bmN0aW9uICh4bWwsIGRlc2MpIHtcclxuICAgIH0sXHJcblxyXG4gICAgY2xlYXJBY3Rpb25TdGF0ZTogZnVuY3Rpb24gKGFjdGlvbikge1xyXG4gICAgICAgIGFqYXguc3RhdGVbYWN0aW9uXSA9IGFqYXgucmVxdWVzdFthY3Rpb25dID0gJyc7XHJcbiAgICB9LFxyXG5cclxuICAgIHNob3dFcnJvck1zZzogZnVuY3Rpb24gKG1zZykge1xyXG4gICAgICAgIGFsZXJ0KG1zZyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNhbGxJbml0Rm46IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHZhciBwYXJhbXMgPSBhamF4LnBhcmFtc1skKHRoaXMpLmF0dHIoJ2lkJyldO1xyXG4gICAgICAgIHZhciBhY3Rpb24gPSBwYXJhbXMuYWN0aW9uO1xyXG4gICAgICAgIGlmIChhamF4LnN0YXRlW2FjdGlvbl0gPT09ICdyZWFkeVRvU3VibWl0JyB8fCBhamF4LnN0YXRlW2FjdGlvbl0gPT09ICdlcnJvcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFqYXguc3RhdGVbYWN0aW9uXSA9ICdyZWFkeVRvU3VibWl0JztcclxuICAgICAgICB9XHJcbiAgICAgICAgYWpheC5pbml0W2FjdGlvbl0ocGFyYW1zKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0U3RhdHVzQm94UG9zaXRpb246IGZ1bmN0aW9uICgkZWwpIHtcclxuICAgICAgICB2YXIgbmV3VG9wID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgdmFyIHJDb3JuZXIgPSAkKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkgKyAkKHdpbmRvdykud2lkdGgoKSAtIDg7XHJcbiAgICAgICAgdmFyIG5ld0xlZnQgPSBNYXRoLm1heCgwLCByQ29ybmVyIC0gJGVsLndpZHRoKCkpO1xyXG4gICAgICAgICRlbC5jc3Moe3RvcDogbmV3VG9wLCBsZWZ0OiBuZXdMZWZ0fSk7XHJcbiAgICB9LFxyXG5cclxuICAgIG1ha2VFZGl0YWJsZTogZnVuY3Rpb24gKHJvb3RFbGVtZW50SWQsIGVkaXRhYmxlVHlwZSkge1xyXG4gICAgICAgIHZhciAkcm9vdCA9ICQoJyMnICsgcm9vdEVsZW1lbnRJZCk7XHJcbiAgICAgICAgdmFyICRlZGl0YWJsZSA9ICQoJy5lZGl0YWJsZScsICRyb290KTtcclxuICAgICAgICB2YXIgaW5wdXRzSHRtbCA9ICQoJyNlZGl0YWJsZS10cGwtJyArIGVkaXRhYmxlVHlwZSkuaHRtbCgpO1xyXG4gICAgICAgICRlZGl0YWJsZS5oaWRlKCkuYWZ0ZXIoaW5wdXRzSHRtbCk7XHJcbiAgICAgICAgdmFyICRpbnB1dHMgPSAkKCcuZWRpdGFibGUtaW5wdXRzJywgJHJvb3QpO1xyXG4gICAgICAgIGlmIChlZGl0YWJsZVR5cGUgPT09ICdpbnB1dCcgfHwgZWRpdGFibGVUeXBlID09PSAndGV4dGFyZWEnKSB7XHJcbiAgICAgICAgICAgICQoJy5lZGl0YWJsZS12YWx1ZScsICRpbnB1dHMpLnZhbCgkLnRyaW0oJGVkaXRhYmxlLnRleHQoKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCdpbnB1dC5lZGl0YWJsZS1zdWJtaXQnLCAkaW5wdXRzKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBhamF4LnBhcmFtc1tyb290RWxlbWVudElkXTtcclxuICAgICAgICAgICAgdmFyICR2YWwgPSAkKCcuZWRpdGFibGUtdmFsdWUnLCAnIycgKyByb290RWxlbWVudElkKTtcclxuICAgICAgICAgICAgcGFyYW1zLnZhbHVlID0gKCR2YWwuc2l6ZSgpID09PSAxKSA/ICR2YWwudmFsKCkgOiAkdmFsLmZpbHRlcignOmNoZWNrZWQnKS52YWwoKTtcclxuICAgICAgICAgICAgcGFyYW1zLnN1Ym1pdCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFqYXguaW5pdFtwYXJhbXMuYWN0aW9uXShwYXJhbXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJ2lucHV0LmVkaXRhYmxlLWNhbmNlbCcsICRpbnB1dHMpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYWpheC5yZXN0b3JlRWRpdGFibGUocm9vdEVsZW1lbnRJZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJGlucHV0cy5zaG93KCkuZmluZCgnLmVkaXRhYmxlLXZhbHVlJykuZm9jdXMoKTtcclxuICAgICAgICAkcm9vdC5yZW1vdmVDbGFzcygnZWRpdGFibGUtY29udGFpbmVyJyk7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlc3RvcmVFZGl0YWJsZTogZnVuY3Rpb24gKHJvb3RFbGVtZW50SWQsIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgdmFyICRyb290ID0gJCgnIycgKyByb290RWxlbWVudElkKTtcclxuICAgICAgICB2YXIgJGVkaXRhYmxlID0gJCgnLmVkaXRhYmxlJywgJHJvb3QpO1xyXG4gICAgICAgICQoJy5lZGl0YWJsZS1pbnB1dHMnLCAkcm9vdCkucmVtb3ZlKCk7XHJcbiAgICAgICAgaWYgKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICRlZGl0YWJsZS50ZXh0KG5ld1ZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGVkaXRhYmxlLnNob3coKTtcclxuICAgICAgICBhamF4LmNsZWFyQWN0aW9uU3RhdGUoYWpheC5wYXJhbXNbcm9vdEVsZW1lbnRJZF0uYWN0aW9uKTtcclxuICAgICAgICBhamF4LnBhcmFtc1tyb290RWxlbWVudElkXS5zdWJtaXQgPSBmYWxzZTtcclxuICAgICAgICAkcm9vdC5hZGRDbGFzcygnZWRpdGFibGUtY29udGFpbmVyJyk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBTZXR1cCBhamF4LWxvYWRpbmcgYm94XHJcbiAgICAkKFwiI2FqYXgtbG9hZGluZ1wiKS5hamF4U3RhcnQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChhamF4LmhpZGVfbG9hZGluZyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgJChcIiNhamF4LWVycm9yXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5zaG93KCk7XHJcbiAgICAgICAgICAgIGFqYXguc2V0U3RhdHVzQm94UG9zaXRpb24oJCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKFwiI2FqYXgtbG9hZGluZ1wiKS5hamF4U3RvcChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGFqYXguaGlkZV9sb2FkaW5nID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTZXR1cCBhamF4LWVycm9yIGJveFxyXG4gICAgJChcIiNhamF4LWVycm9yXCIpLmFqYXhFcnJvcihmdW5jdGlvbiAocmVxLCB4bWwpIHtcclxuICAgICAgICB2YXIgc3RhdHVzID0geG1sLnN0YXR1cztcclxuICAgICAgICB2YXIgdGV4dCA9IHhtbC5zdGF0dXNUZXh0O1xyXG4gICAgICAgIGlmIChzdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICBzdGF0dXMgPSAnJztcclxuICAgICAgICAgICAgdGV4dCA9ICfQvdC10LLQtdGA0L3Ri9C5INGE0L7RgNC80LDRgiDQtNCw0L3QvdGL0YUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKHRoaXMpLmh0bWwoXCLQntGI0LjQsdC60LAg0LI6IDxpPlwiICsgYWpheC51cmwgKyBcIjwvaT48YnIgLz48Yj5cIiArIHN0YXR1cyArIFwiIFwiICsgdGV4dCArIFwiPC9iPlwiKS5zaG93KCk7XHJcbiAgICAgICAgYWpheC5zZXRTdGF0dXNCb3hQb3NpdGlvbigkKHRoaXMpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEJpbmQgYWpheCBldmVudHNcclxuICAgICQoJ3Zhci5hamF4LXBhcmFtcycpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwYXJhbXMgPSAkLmV2YWxKU09OKCQodGhpcykuaHRtbCgpKTtcclxuICAgICAgICBwYXJhbXMuZXZlbnQgPSBwYXJhbXMuZXZlbnQgfHwgJ2RibGNsaWNrJztcclxuICAgICAgICBhamF4LnBhcmFtc1twYXJhbXMuaWRdID0gcGFyYW1zO1xyXG4gICAgICAgICQoXCIjXCIgKyBwYXJhbXMuaWQpLmJpbmQocGFyYW1zLmV2ZW50LCBhamF4LmNhbGxJbml0Rm4pO1xyXG4gICAgICAgIGlmIChwYXJhbXMuZXZlbnQgPT09ICdjbGljaycgfHwgcGFyYW1zLmV2ZW50ID09PSAnZGJsY2xpY2snKSB7XHJcbiAgICAgICAgICAgICQoXCIjXCIgKyBwYXJhbXMuaWQpLmFkZENsYXNzKCdlZGl0YWJsZS1jb250YWluZXInKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG4vKipcclxuICogQXV0b2NvbXBsZXRlIHBhc3N3b3JkXHJcbiAqKi9cclxudmFyIGFycmF5X2Zvcl9yYW5kX3Bhc3MgPSBbXCJhXCIsIFwiQVwiLCBcImJcIiwgXCJCXCIsIFwiY1wiLCBcIkNcIiwgXCJkXCIsIFwiRFwiLCBcImVcIiwgXCJFXCIsIFwiZlwiLCBcIkZcIiwgXCJnXCIsIFwiR1wiLCBcImhcIiwgXCJIXCIsIFwiaVwiLCBcIklcIiwgXCJqXCIsIFwiSlwiLCBcImtcIiwgXCJLXCIsIFwibFwiLCBcIkxcIiwgXCJtXCIsIFwiTVwiLCBcIm5cIiwgXCJOXCIsIFwib1wiLCBcIk9cIiwgXCJwXCIsIFwiUFwiLCBcInFcIiwgXCJRXCIsIFwiclwiLCBcIlJcIiwgXCJzXCIsIFwiU1wiLCBcInRcIiwgXCJUXCIsIFwidVwiLCBcIlVcIiwgXCJ2XCIsIFwiVlwiLCBcIndcIiwgXCJXXCIsIFwieFwiLCBcIlhcIiwgXCJ5XCIsIFwiWVwiLCBcInpcIiwgXCJaXCIsIDAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDldO1xyXG52YXIgYXJyYXlfcmFuZCA9IGZ1bmN0aW9uIChhcnJheSkge1xyXG4gICAgdmFyIGFycmF5X2xlbmd0aCA9IGFycmF5Lmxlbmd0aDtcclxuICAgIHZhciByZXN1bHQgPSBNYXRoLnJhbmRvbSgpICogYXJyYXlfbGVuZ3RoO1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IocmVzdWx0KTtcclxufTtcclxuXHJcbnZhciBhdXRvY29tcGxldGUgPSBmdW5jdGlvbiAobm9DZW50ZXIpIHtcclxuICAgIHZhciBzdHJpbmdfcmVzdWx0ID0gXCJcIjsgLy8gRW1wdHkgc3RyaW5nXHJcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSA4OyBpKyspIHtcclxuICAgICAgICBzdHJpbmdfcmVzdWx0ICs9IGFycmF5X2Zvcl9yYW5kX3Bhc3NbYXJyYXlfcmFuZChhcnJheV9mb3JfcmFuZF9wYXNzKV07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIF9wb3B1cF9sZWZ0ID0gKE1hdGguY2VpbCh3aW5kb3cuc2NyZWVuLmF2YWlsV2lkdGggLyAyKSAtIDE1MCk7XHJcbiAgICB2YXIgX3BvcHVwX3RvcCA9IChNYXRoLmNlaWwod2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCAvIDIpIC0gNTApO1xyXG5cclxuICAgIGlmICghbm9DZW50ZXIpIHtcclxuICAgICAgICAkKFwiZGl2I2F1dG9jb21wbGV0ZV9wb3B1cFwiKS5jc3Moe1xyXG4gICAgICAgICAgICBsZWZ0OiBfcG9wdXBfbGVmdCArIFwicHhcIiwgdG9wOiBfcG9wdXBfdG9wICsgXCJweFwiXHJcbiAgICAgICAgfSkuc2hvdygxMDAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcImRpdiNhdXRvY29tcGxldGVfcG9wdXBcIikuc2hvdygxMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICAkKFwiaW5wdXQjcGFzcywgaW5wdXQjcGFzc19jb25maXJtLCBkaXYjYXV0b2NvbXBsZXRlX3BvcHVwIGlucHV0XCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykudmFsKHN0cmluZ19yZXN1bHQpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwic3BhbiNhdXRvY29tcGxldGVcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGF1dG9jb21wbGV0ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g0L/QtdGA0LXQvNC10YnQtdC90LjQtSDQvtC60L3QsFxyXG4gICAgdmFyIF9YLCBfWTtcclxuICAgIHZhciBfYk1vdmVibGUgPSBmYWxzZTtcclxuXHJcbiAgICAkKFwiZGl2I2F1dG9jb21wbGV0ZV9wb3B1cCBkaXYudGl0bGVcIikubW91c2Vkb3duKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIF9iTW92ZWJsZSA9IHRydWU7XHJcbiAgICAgICAgX1ggPSBldmVudC5jbGllbnRYO1xyXG4gICAgICAgIF9ZID0gZXZlbnQuY2xpZW50WTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCJkaXYjYXV0b2NvbXBsZXRlX3BvcHVwIGRpdi50aXRsZVwiKS5tb3VzZW1vdmUoZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGpGcmFtZSA9ICQoXCJkaXYjYXV0b2NvbXBsZXRlX3BvcHVwXCIpO1xyXG4gICAgICAgIHZhciBqRkxlZnQgPSBwYXJzZUludChqRnJhbWUuY3NzKFwibGVmdFwiKSk7XHJcbiAgICAgICAgdmFyIGpGVG9wID0gcGFyc2VJbnQoakZyYW1lLmNzcyhcInRvcFwiKSk7XHJcblxyXG4gICAgICAgIGlmIChfYk1vdmVibGUpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmNsaWVudFggPCBfWCkge1xyXG4gICAgICAgICAgICAgICAgakZyYW1lLmNzcyhcImxlZnRcIiwgakZMZWZ0IC0gKF9YIC0gZXZlbnQuY2xpZW50WCkgKyBcInB4XCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgakZyYW1lLmNzcyhcImxlZnRcIiwgKGpGTGVmdCArIChldmVudC5jbGllbnRYIC0gX1gpKSArIFwicHhcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChldmVudC5jbGllbnRZIDwgX1kpIHtcclxuICAgICAgICAgICAgICAgIGpGcmFtZS5jc3MoXCJ0b3BcIiwgakZUb3AgLSAoX1kgLSBldmVudC5jbGllbnRZKSArIFwicHhcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBqRnJhbWUuY3NzKFwidG9wXCIsIChqRlRvcCArIChldmVudC5jbGllbnRZIC0gX1kpKSArIFwicHhcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIF9YID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgICAgICAgX1kgPSBldmVudC5jbGllbnRZO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoXCJkaXYjYXV0b2NvbXBsZXRlX3BvcHVwIGRpdi50aXRsZVwiKS5tb3VzZXVwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfYk1vdmVibGUgPSBmYWxzZTtcclxuICAgIH0pLm1vdXNlb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfYk1vdmVibGUgPSBmYWxzZTtcclxuICAgIH0pO1xyXG59KTtcclxuIl0sImZpbGUiOiJzY3JpcHRzLW1pbi5qcyJ9
